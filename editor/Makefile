.PHONY: help install dev build test clean dev-frontend

# Default target
help:
	@echo "HireCJ Editor Commands:"
	@echo ""
	@echo "ðŸ“¦ Setup:"
	@echo "  make install      - Install dependencies"
	@echo "  make clean        - Clean build artifacts and dependencies"
	@echo ""
	@echo "ðŸš€ Development:"
	@echo "  make dev          - Start editor frontend"
	@echo "  make build        - Build for production"
	@echo "  make test         - Run tests"

# Install dependencies
install:
	@echo "ðŸ“¦ Installing editor dependencies..."
	npm install
	@echo "âœ… Editor dependencies installed!"

# Development
dev:
	@echo "ðŸŽ¨ Starting editor frontend..."
	@echo "Note: This requires the editor backend service to be running on port 8001"
	npm run dev

# Build for production
build:
	@echo "ðŸ—ï¸ Building editor for production..."
	npm run build
	@echo "âœ… Build complete! Output in ./dist"

# Run tests
test:
	@echo "ðŸ§ª Running editor tests..."
	npm run check

# Clean up
clean:
	@echo "ðŸ§¹ Cleaning up..."
	rm -rf node_modules
	rm -rf dist
	rm -f package-lock.json
	@echo "âœ… Cleanup complete!"

# Stop editor session
stop:
	@echo "ðŸ›‘ Stopping editor services..."
	@if tmux has-session -t hirecj-editor 2>/dev/null; then \
		tmux kill-session -t hirecj-editor; \
		echo "âœ… Stopped hirecj-editor session"; \
	else \
		echo "No editor session running"; \
	fi