==> agents/logs/hirecj-backend.error.log <==
             ^

[SQL: SELECT v_freshdesk_unified_tickets.merchant_id AS v_freshdesk_unified_tickets_merchant_id, v_freshdesk_unified_tickets.freshdesk_ticket_id AS v_freshdesk_unified_tickets_freshdesk_ticket_id, v_freshdesk_unified_tickets.ticket_id_numeric AS v_freshdesk_unified_tickets_ticket_id_numeric, v_freshdesk_unified_tickets.subject AS v_freshdesk_unified_tickets_subject, v_freshdesk_unified_tickets.description AS v_freshdesk_unified_tickets_description, v_freshdesk_unified_tickets.type AS v_freshdesk_unified_tickets_type, v_freshdesk_unified_tickets.source AS v_freshdesk_unified_tickets_source, v_freshdesk_unified_tickets.spam AS v_freshdesk_unified_tickets_spam, v_freshdesk_unified_tickets.status AS v_freshdesk_unified_tickets_status, v_freshdesk_unified_tickets.priority AS v_freshdesk_unified_tickets_priority, v_freshdesk_unified_tickets.is_escalated AS v_freshdesk_unified_tickets_is_escalated, v_freshdesk_unified_tickets.fr_escalated AS v_freshdesk_unified_tickets_fr_escalated, v_freshdesk_unified_tickets.nr_escalated AS v_freshdesk_unified_tickets_nr_escalated, v_freshdesk_unified_tickets.requester_id AS v_freshdesk_unified_tickets_requester_id, v_freshdesk_unified_tickets.requester_name AS v_freshdesk_unified_tickets_requester_name, v_freshdesk_unified_tickets.requester_email AS v_freshdesk_unified_tickets_requester_email, v_freshdesk_unified_tickets.responder_id AS v_freshdesk_unified_tickets_responder_id, v_freshdesk_unified_tickets.company_id AS v_freshdesk_unified_tickets_company_id, v_freshdesk_unified_tickets.group_id AS v_freshdesk_unified_tickets_group_id, v_freshdesk_unified_tickets.created_at AS v_freshdesk_unified_tickets_created_at, v_freshdesk_unified_tickets.updated_at AS v_freshdesk_unified_tickets_updated_at, v_freshdesk_unified_tickets.due_by AS v_freshdesk_unified_tickets_due_by, v_freshdesk_unified_tickets.fr_due_by AS v_freshdesk_unified_tickets_fr_due_by, v_freshdesk_unified_tickets.nr_due_by AS v_freshdesk_unified_tickets_nr_due_by, v_freshdesk_unified_tickets.first_responded_at AS v_freshdesk_unified_tickets_first_responded_at, v_freshdesk_unified_tickets.agent_responded_at AS v_freshdesk_unified_tickets_agent_responded_at, v_freshdesk_unified_tickets.requester_responded_at AS v_freshdesk_unified_tickets_requester_responded_at, v_freshdesk_unified_tickets.closed_at AS v_freshdesk_unified_tickets_closed_at, v_freshdesk_unified_tickets.resolved_at AS v_freshdesk_unified_tickets_resolved_at, v_freshdesk_unified_tickets.reopened_at AS v_freshdesk_unified_tickets_reopened_at, v_freshdesk_unified_tickets.pending_since AS v_freshdesk_unified_tickets_pending_since, v_freshdesk_unified_tickets.status_updated_at AS v_freshdesk_unified_tickets_status_updated_at, v_freshdesk_unified_tickets.tags AS v_freshdesk_unified_tickets_tags, v_freshdesk_unified_tickets.custom_fields AS v_freshdesk_unified_tickets_custom_fields, v_freshdesk_unified_tickets.conversation_count AS v_freshdesk_unified_tickets_conversation_count, v_freshdesk_unified_tickets.last_conversation_at AS v_freshdesk_unified_tickets_last_conversation_at, v_freshdesk_unified_tickets.has_agent_response AS v_freshdesk_unified_tickets_has_agent_response, v_freshdesk_unified_tickets.has_rating AS v_freshdesk_unified_tickets_has_rating, v_freshdesk_unified_tickets.rating_score AS v_freshdesk_unified_tickets_rating_score, v_freshdesk_unified_tickets.rating_feedback AS v_freshdesk_unified_tickets_rating_feedback, v_freshdesk_unified_tickets.rating_created_at AS v_freshdesk_unified_tickets_rating_created_at 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s ORDER BY v_freshdesk_unified_tickets.created_at DESC 
 LIMIT %(param_1)s]
[parameters: {'merchant_id_1': 1, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:10:53] [app.agents.database_tools] [ERROR] [calculate_csat_score:161] [TOOL ERROR] calculate_csat_score() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT v_freshdesk_unified_tickets.merchant_id AS v_freshdesk_unified_tickets_merchant_id, v_freshdesk_unified_tickets.freshdesk_ticket_id AS v_freshdesk_unified_tickets_freshdesk_ticket_id, v_freshdesk_unified_tickets.ticket_id_numeric AS v_freshdesk_unified_tickets_ticket_id_numeric, v_freshdesk_unified_tickets.subject AS v_freshdesk_unified_tickets_subject, v_freshdesk_unified_tickets.description AS v_freshdesk_unified_tickets_description, v_freshdesk_unified_tickets.type AS v_freshdesk_unified_tickets_type, v_freshdesk_unified_tickets.source AS v_freshdesk_unified_tickets_source, v_freshdesk_unified_tickets.spam AS v_freshdesk_unified_tickets_spam, v_freshdesk_unified_tickets.status AS v_freshdesk_unified_tickets_status, v_freshdesk_unified_tickets.priority AS v_freshdesk_unified_tickets_priority, v_freshdesk_unified_tickets.is_escalated AS v_freshdesk_unified_tickets_is_escalated, v_freshdesk_unified_tickets.fr_escalated AS v_freshdesk_unified_tickets_fr_escalated, v_freshdesk_unified_tickets.nr_escalated AS v_freshdesk_unified_tickets_nr_escalated, v_freshdesk_unified_tickets.requester_id AS v_freshdesk_unified_tickets_requester_id, v_freshdesk_unified_tickets.requester_name AS v_freshdesk_unified_tickets_requester_name, v_freshdesk_unified_tickets.requester_email AS v_freshdesk_unified_tickets_requester_email, v_freshdesk_unified_tickets.responder_id AS v_freshdesk_unified_tickets_responder_id, v_freshdesk_unified_tickets.company_id AS v_freshdesk_unified_tickets_company_id, v_freshdesk_unified_tickets.group_id AS v_freshdesk_unified_tickets_group_id, v_freshdesk_unified_tickets.created_at AS v_freshdesk_unified_tickets_created_at, v_freshdesk_unified_tickets.updated_at AS v_freshdesk_unified_tickets_updated_at, v_freshdesk_unified_tickets.due_by AS v_freshdesk_unified_tickets_due_by, v_freshdesk_unified_tickets.fr_due_by AS v_freshdesk_unified_tickets_fr_due_by, v_freshdesk_unified_tickets.nr_due_by AS v_freshdesk_unified_tickets_nr_due_by, v_freshdesk_unified_tickets.first_responded_at AS v_freshdesk_unified_tickets_first_responded_at, v_freshdesk_unified_tickets.agent_responded_at AS v_freshdesk_unified_tickets_agent_responded_at, v_freshdesk_unified_tickets.requester_responded_at AS v_freshdesk_unified_tickets_requester_responded_at, v_freshdesk_unified_tickets.closed_at AS v_freshdesk_unified_tickets_closed_at, v_freshdesk_unified_tickets.resolved_at AS v_freshdesk_unified_tickets_resolved_at, v_freshdesk_unified_tickets.reopened_at AS v_freshdesk_unified_tickets_reopened_at, v_freshdesk_unified_tickets.pending_since AS v_freshdesk_unified_tickets_pending_since, v_freshdesk_unified_tickets.status_updated_at AS v_freshdesk_unified_tickets_status_updated_at, v_freshdesk_unified_tickets.tags AS v_freshdesk_unified_tickets_tags, v_freshdesk_unified_tickets.custom_fields AS v_freshdesk_unified_tickets_custom_fields, v_freshdesk_unified_tickets.conversation_count AS v_freshdesk_unified_tickets_conversation_count, v_freshdesk_unified_tickets.last_conversation_at AS v_freshdesk_unified_tickets_last_conversation_at, v_freshdesk_unified_tickets.has_agent_response AS v_freshdesk_unified_tickets_has_agent_response, v_freshdesk_unified_tickets.has_rating AS v_freshdesk_unified_tickets_has_rating, v_freshdesk_unified_tickets.rating_score AS v_freshdesk_unified_tickets_rating_score, v_freshdesk_unified_tickets.rating_feedback AS v_freshdesk_unified_tickets_rating_feedback, v_freshdesk_unified_tickets.rating_created_at AS v_freshdesk_unified_tickets_rating_created_at 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.has_rating = true AND v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s AND v_freshdesk_unified_tickets.rating_created_at >= %(rating_created_at_1)s]
[parameters: {'merchant_id_1': 1, 'rating_created_at_1': datetime.datetime(2025, 6, 11, 2, 10, 53, 335648, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:10:57] [app.agents.database_tools] [ERROR] [search_tickets_in_db:103] [TOOL ERROR] search_tickets_in_db() - Error: type object 'FreshdeskUnifiedTicketView' has no attribute 'description_text'
[2025-06-11 21:11:01] [app.agents.database_tools] [ERROR] [search_tickets_in_db:103] [TOOL ERROR] search_tickets_in_db() - Error: type object 'FreshdeskUnifiedTicketView' has no attribute 'description_text'
[2025-06-11 21:11:23] [app.agents.database_tools] [ERROR] [get_support_dashboard_from_db:68] [TOOL ERROR] get_support_dashboard_from_db() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_1)s) THEN %(param_1)s ELSE %(param_2)s END) AS open, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_2)s) THEN %(param_3)s ELSE %(param_4)s END) AS pending, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_3)s) THEN %(param_5)s ELSE %(param_6)s END) AS resolved, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_4)s) THEN %(param_7)s ELSE %(param_8)s END) AS closed, count(v_freshdesk_unified_tickets.freshdesk_ticket_id) AS total 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s 
 LIMIT %(param_9)s]
[parameters: {'status_1': 2, 'param_1': 1, 'param_2': 0, 'status_2': 3, 'param_3': 1, 'param_4': 0, 'status_3': 4, 'param_5': 1, 'param_6': 0, 'status_4': 5, 'param_7': 1, 'param_8': 0, 'merchant_id_1': 1, 'param_9': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:11:26] [app.agents.database_tools] [ERROR] [get_recent_ticket_from_db:36] [TOOL ERROR] get_recent_ticket_from_db() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT v_freshdesk_unified_tickets.merchant_id AS v_freshdesk_unified_tickets_merchant_id, v_freshdesk_unified_tickets.freshdesk_ticket_id AS v_freshdesk_unified_tickets_freshdesk_ticket_id, v_freshdesk_unified_tickets.ticket_id_numeric AS v_freshdesk_unified_tickets_ticket_id_numeric, v_freshdesk_unified_tickets.subject AS v_freshdesk_unified_tickets_subject, v_freshdesk_unified_tickets.description AS v_freshdesk_unified_tickets_description, v_freshdesk_unified_tickets.type AS v_freshdesk_unified_tickets_type, v_freshdesk_unified_tickets.source AS v_freshdesk_unified_tickets_source, v_freshdesk_unified_tickets.spam AS v_freshdesk_unified_tickets_spam, v_freshdesk_unified_tickets.status AS v_freshdesk_unified_tickets_status, v_freshdesk_unified_tickets.priority AS v_freshdesk_unified_tickets_priority, v_freshdesk_unified_tickets.is_escalated AS v_freshdesk_unified_tickets_is_escalated, v_freshdesk_unified_tickets.fr_escalated AS v_freshdesk_unified_tickets_fr_escalated, v_freshdesk_unified_tickets.nr_escalated AS v_freshdesk_unified_tickets_nr_escalated, v_freshdesk_unified_tickets.requester_id AS v_freshdesk_unified_tickets_requester_id, v_freshdesk_unified_tickets.requester_name AS v_freshdesk_unified_tickets_requester_name, v_freshdesk_unified_tickets.requester_email AS v_freshdesk_unified_tickets_requester_email, v_freshdesk_unified_tickets.responder_id AS v_freshdesk_unified_tickets_responder_id, v_freshdesk_unified_tickets.company_id AS v_freshdesk_unified_tickets_company_id, v_freshdesk_unified_tickets.group_id AS v_freshdesk_unified_tickets_group_id, v_freshdesk_unified_tickets.created_at AS v_freshdesk_unified_tickets_created_at, v_freshdesk_unified_tickets.updated_at AS v_freshdesk_unified_tickets_updated_at, v_freshdesk_unified_tickets.due_by AS v_freshdesk_unified_tickets_due_by, v_freshdesk_unified_tickets.fr_due_by AS v_freshdesk_unified_tickets_fr_due_by, v_freshdesk_unified_tickets.nr_due_by AS v_freshdesk_unified_tickets_nr_due_by, v_freshdesk_unified_tickets.first_responded_at AS v_freshdesk_unified_tickets_first_responded_at, v_freshdesk_unified_tickets.agent_responded_at AS v_freshdesk_unified_tickets_agent_responded_at, v_freshdesk_unified_tickets.requester_responded_at AS v_freshdesk_unified_tickets_requester_responded_at, v_freshdesk_unified_tickets.closed_at AS v_freshdesk_unified_tickets_closed_at, v_freshdesk_unified_tickets.resolved_at AS v_freshdesk_unified_tickets_resolved_at, v_freshdesk_unified_tickets.reopened_at AS v_freshdesk_unified_tickets_reopened_at, v_freshdesk_unified_tickets.pending_since AS v_freshdesk_unified_tickets_pending_since, v_freshdesk_unified_tickets.status_updated_at AS v_freshdesk_unified_tickets_status_updated_at, v_freshdesk_unified_tickets.tags AS v_freshdesk_unified_tickets_tags, v_freshdesk_unified_tickets.custom_fields AS v_freshdesk_unified_tickets_custom_fields, v_freshdesk_unified_tickets.conversation_count AS v_freshdesk_unified_tickets_conversation_count, v_freshdesk_unified_tickets.last_conversation_at AS v_freshdesk_unified_tickets_last_conversation_at, v_freshdesk_unified_tickets.has_agent_response AS v_freshdesk_unified_tickets_has_agent_response, v_freshdesk_unified_tickets.has_rating AS v_freshdesk_unified_tickets_has_rating, v_freshdesk_unified_tickets.rating_score AS v_freshdesk_unified_tickets_rating_score, v_freshdesk_unified_tickets.rating_feedback AS v_freshdesk_unified_tickets_rating_feedback, v_freshdesk_unified_tickets.rating_created_at AS v_freshdesk_unified_tickets_rating_created_at 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s ORDER BY v_freshdesk_unified_tickets.created_at DESC 
 LIMIT %(param_1)s]
[parameters: {'merchant_id_1': 1, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:11:37] [app.agents.database_tools] [ERROR] [calculate_csat_score:161] [TOOL ERROR] calculate_csat_score() - Error: Cannot specify both days and date range. Use either days OR start_date/end_date.
[2025-06-11 21:11:45] [app.agents.database_tools] [ERROR] [calculate_csat_score:161] [TOOL ERROR] calculate_csat_score() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT v_freshdesk_unified_tickets.merchant_id AS v_freshdesk_unified_tickets_merchant_id, v_freshdesk_unified_tickets.freshdesk_ticket_id AS v_freshdesk_unified_tickets_freshdesk_ticket_id, v_freshdesk_unified_tickets.ticket_id_numeric AS v_freshdesk_unified_tickets_ticket_id_numeric, v_freshdesk_unified_tickets.subject AS v_freshdesk_unified_tickets_subject, v_freshdesk_unified_tickets.description AS v_freshdesk_unified_tickets_description, v_freshdesk_unified_tickets.type AS v_freshdesk_unified_tickets_type, v_freshdesk_unified_tickets.source AS v_freshdesk_unified_tickets_source, v_freshdesk_unified_tickets.spam AS v_freshdesk_unified_tickets_spam, v_freshdesk_unified_tickets.status AS v_freshdesk_unified_tickets_status, v_freshdesk_unified_tickets.priority AS v_freshdesk_unified_tickets_priority, v_freshdesk_unified_tickets.is_escalated AS v_freshdesk_unified_tickets_is_escalated, v_freshdesk_unified_tickets.fr_escalated AS v_freshdesk_unified_tickets_fr_escalated, v_freshdesk_unified_tickets.nr_escalated AS v_freshdesk_unified_tickets_nr_escalated, v_freshdesk_unified_tickets.requester_id AS v_freshdesk_unified_tickets_requester_id, v_freshdesk_unified_tickets.requester_name AS v_freshdesk_unified_tickets_requester_name, v_freshdesk_unified_tickets.requester_email AS v_freshdesk_unified_tickets_requester_email, v_freshdesk_unified_tickets.responder_id AS v_freshdesk_unified_tickets_responder_id, v_freshdesk_unified_tickets.company_id AS v_freshdesk_unified_tickets_company_id, v_freshdesk_unified_tickets.group_id AS v_freshdesk_unified_tickets_group_id, v_freshdesk_unified_tickets.created_at AS v_freshdesk_unified_tickets_created_at, v_freshdesk_unified_tickets.updated_at AS v_freshdesk_unified_tickets_updated_at, v_freshdesk_unified_tickets.due_by AS v_freshdesk_unified_tickets_due_by, v_freshdesk_unified_tickets.fr_due_by AS v_freshdesk_unified_tickets_fr_due_by, v_freshdesk_unified_tickets.nr_due_by AS v_freshdesk_unified_tickets_nr_due_by, v_freshdesk_unified_tickets.first_responded_at AS v_freshdesk_unified_tickets_first_responded_at, v_freshdesk_unified_tickets.agent_responded_at AS v_freshdesk_unified_tickets_agent_responded_at, v_freshdesk_unified_tickets.requester_responded_at AS v_freshdesk_unified_tickets_requester_responded_at, v_freshdesk_unified_tickets.closed_at AS v_freshdesk_unified_tickets_closed_at, v_freshdesk_unified_tickets.resolved_at AS v_freshdesk_unified_tickets_resolved_at, v_freshdesk_unified_tickets.reopened_at AS v_freshdesk_unified_tickets_reopened_at, v_freshdesk_unified_tickets.pending_since AS v_freshdesk_unified_tickets_pending_since, v_freshdesk_unified_tickets.status_updated_at AS v_freshdesk_unified_tickets_status_updated_at, v_freshdesk_unified_tickets.tags AS v_freshdesk_unified_tickets_tags, v_freshdesk_unified_tickets.custom_fields AS v_freshdesk_unified_tickets_custom_fields, v_freshdesk_unified_tickets.conversation_count AS v_freshdesk_unified_tickets_conversation_count, v_freshdesk_unified_tickets.last_conversation_at AS v_freshdesk_unified_tickets_last_conversation_at, v_freshdesk_unified_tickets.has_agent_response AS v_freshdesk_unified_tickets_has_agent_response, v_freshdesk_unified_tickets.has_rating AS v_freshdesk_unified_tickets_has_rating, v_freshdesk_unified_tickets.rating_score AS v_freshdesk_unified_tickets_rating_score, v_freshdesk_unified_tickets.rating_feedback AS v_freshdesk_unified_tickets_rating_feedback, v_freshdesk_unified_tickets.rating_created_at AS v_freshdesk_unified_tickets_rating_created_at 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.has_rating = true AND v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s AND v_freshdesk_unified_tickets.rating_created_at >= %(rating_created_at_1)s]
[parameters: {'merchant_id_1': 1, 'rating_created_at_1': datetime.datetime(2025, 6, 11, 2, 11, 45, 341431, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:12:10] [app.agents.database_tools] [ERROR] [get_support_dashboard_from_db:68] [TOOL ERROR] get_support_dashboard_from_db() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_1)s) THEN %(param_1)s ELSE %(param_2)s END) AS open, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_2)s) THEN %(param_3)s ELSE %(param_4)s END) AS pending, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_3)s) THEN %(param_5)s ELSE %(param_6)s END) AS resolved, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_4)s) THEN %(param_7)s ELSE %(param_8)s END) AS closed, count(v_freshdesk_unified_tickets.freshdesk_ticket_id) AS total 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s 
 LIMIT %(param_9)s]
[parameters: {'status_1': 2, 'param_1': 1, 'param_2': 0, 'status_2': 3, 'param_3': 1, 'param_4': 0, 'status_3': 4, 'param_5': 1, 'param_6': 0, 'status_4': 5, 'param_7': 1, 'param_8': 0, 'merchant_id_1': 1, 'param_9': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:12:14] [app.agents.database_tools] [ERROR] [get_recent_ticket_from_db:36] [TOOL ERROR] get_recent_ticket_from_db() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT v_freshdesk_unified_tickets.merchant_id AS v_freshdesk_unified_tickets_merchant_id, v_freshdesk_unified_tickets.freshdesk_ticket_id AS v_freshdesk_unified_tickets_freshdesk_ticket_id, v_freshdesk_unified_tickets.ticket_id_numeric AS v_freshdesk_unified_tickets_ticket_id_numeric, v_freshdesk_unified_tickets.subject AS v_freshdesk_unified_tickets_subject, v_freshdesk_unified_tickets.description AS v_freshdesk_unified_tickets_description, v_freshdesk_unified_tickets.type AS v_freshdesk_unified_tickets_type, v_freshdesk_unified_tickets.source AS v_freshdesk_unified_tickets_source, v_freshdesk_unified_tickets.spam AS v_freshdesk_unified_tickets_spam, v_freshdesk_unified_tickets.status AS v_freshdesk_unified_tickets_status, v_freshdesk_unified_tickets.priority AS v_freshdesk_unified_tickets_priority, v_freshdesk_unified_tickets.is_escalated AS v_freshdesk_unified_tickets_is_escalated, v_freshdesk_unified_tickets.fr_escalated AS v_freshdesk_unified_tickets_fr_escalated, v_freshdesk_unified_tickets.nr_escalated AS v_freshdesk_unified_tickets_nr_escalated, v_freshdesk_unified_tickets.requester_id AS v_freshdesk_unified_tickets_requester_id, v_freshdesk_unified_tickets.requester_name AS v_freshdesk_unified_tickets_requester_name, v_freshdesk_unified_tickets.requester_email AS v_freshdesk_unified_tickets_requester_email, v_freshdesk_unified_tickets.responder_id AS v_freshdesk_unified_tickets_responder_id, v_freshdesk_unified_tickets.company_id AS v_freshdesk_unified_tickets_company_id, v_freshdesk_unified_tickets.group_id AS v_freshdesk_unified_tickets_group_id, v_freshdesk_unified_tickets.created_at AS v_freshdesk_unified_tickets_created_at, v_freshdesk_unified_tickets.updated_at AS v_freshdesk_unified_tickets_updated_at, v_freshdesk_unified_tickets.due_by AS v_freshdesk_unified_tickets_due_by, v_freshdesk_unified_tickets.fr_due_by AS v_freshdesk_unified_tickets_fr_due_by, v_freshdesk_unified_tickets.nr_due_by AS v_freshdesk_unified_tickets_nr_due_by, v_freshdesk_unified_tickets.first_responded_at AS v_freshdesk_unified_tickets_first_responded_at, v_freshdesk_unified_tickets.agent_responded_at AS v_freshdesk_unified_tickets_agent_responded_at, v_freshdesk_unified_tickets.requester_responded_at AS v_freshdesk_unified_tickets_requester_responded_at, v_freshdesk_unified_tickets.closed_at AS v_freshdesk_unified_tickets_closed_at, v_freshdesk_unified_tickets.resolved_at AS v_freshdesk_unified_tickets_resolved_at, v_freshdesk_unified_tickets.reopened_at AS v_freshdesk_unified_tickets_reopened_at, v_freshdesk_unified_tickets.pending_since AS v_freshdesk_unified_tickets_pending_since, v_freshdesk_unified_tickets.status_updated_at AS v_freshdesk_unified_tickets_status_updated_at, v_freshdesk_unified_tickets.tags AS v_freshdesk_unified_tickets_tags, v_freshdesk_unified_tickets.custom_fields AS v_freshdesk_unified_tickets_custom_fields, v_freshdesk_unified_tickets.conversation_count AS v_freshdesk_unified_tickets_conversation_count, v_freshdesk_unified_tickets.last_conversation_at AS v_freshdesk_unified_tickets_last_conversation_at, v_freshdesk_unified_tickets.has_agent_response AS v_freshdesk_unified_tickets_has_agent_response, v_freshdesk_unified_tickets.has_rating AS v_freshdesk_unified_tickets_has_rating, v_freshdesk_unified_tickets.rating_score AS v_freshdesk_unified_tickets_rating_score, v_freshdesk_unified_tickets.rating_feedback AS v_freshdesk_unified_tickets_rating_feedback, v_freshdesk_unified_tickets.rating_created_at AS v_freshdesk_unified_tickets_rating_created_at 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s ORDER BY v_freshdesk_unified_tickets.created_at DESC 
 LIMIT %(param_1)s]
[parameters: {'merchant_id_1': 1, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:12:31] [app.agents.database_tools] [ERROR] [calculate_csat_score:161] [TOOL ERROR] calculate_csat_score() - Error: Cannot specify both days and date range. Use either days OR start_date/end_date.
[2025-06-11 21:12:42] [app.agents.database_tools] [ERROR] [calculate_csat_score:161] [TOOL ERROR] calculate_csat_score() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT v_freshdesk_unified_tickets.merchant_id AS v_freshdesk_unified_tickets_merchant_id, v_freshdesk_unified_tickets.freshdesk_ticket_id AS v_freshdesk_unified_tickets_freshdesk_ticket_id, v_freshdesk_unified_tickets.ticket_id_numeric AS v_freshdesk_unified_tickets_ticket_id_numeric, v_freshdesk_unified_tickets.subject AS v_freshdesk_unified_tickets_subject, v_freshdesk_unified_tickets.description AS v_freshdesk_unified_tickets_description, v_freshdesk_unified_tickets.type AS v_freshdesk_unified_tickets_type, v_freshdesk_unified_tickets.source AS v_freshdesk_unified_tickets_source, v_freshdesk_unified_tickets.spam AS v_freshdesk_unified_tickets_spam, v_freshdesk_unified_tickets.status AS v_freshdesk_unified_tickets_status, v_freshdesk_unified_tickets.priority AS v_freshdesk_unified_tickets_priority, v_freshdesk_unified_tickets.is_escalated AS v_freshdesk_unified_tickets_is_escalated, v_freshdesk_unified_tickets.fr_escalated AS v_freshdesk_unified_tickets_fr_escalated, v_freshdesk_unified_tickets.nr_escalated AS v_freshdesk_unified_tickets_nr_escalated, v_freshdesk_unified_tickets.requester_id AS v_freshdesk_unified_tickets_requester_id, v_freshdesk_unified_tickets.requester_name AS v_freshdesk_unified_tickets_requester_name, v_freshdesk_unified_tickets.requester_email AS v_freshdesk_unified_tickets_requester_email, v_freshdesk_unified_tickets.responder_id AS v_freshdesk_unified_tickets_responder_id, v_freshdesk_unified_tickets.company_id AS v_freshdesk_unified_tickets_company_id, v_freshdesk_unified_tickets.group_id AS v_freshdesk_unified_tickets_group_id, v_freshdesk_unified_tickets.created_at AS v_freshdesk_unified_tickets_created_at, v_freshdesk_unified_tickets.updated_at AS v_freshdesk_unified_tickets_updated_at, v_freshdesk_unified_tickets.due_by AS v_freshdesk_unified_tickets_due_by, v_freshdesk_unified_tickets.fr_due_by AS v_freshdesk_unified_tickets_fr_due_by, v_freshdesk_unified_tickets.nr_due_by AS v_freshdesk_unified_tickets_nr_due_by, v_freshdesk_unified_tickets.first_responded_at AS v_freshdesk_unified_tickets_first_responded_at, v_freshdesk_unified_tickets.agent_responded_at AS v_freshdesk_unified_tickets_agent_responded_at, v_freshdesk_unified_tickets.requester_responded_at AS v_freshdesk_unified_tickets_requester_responded_at, v_freshdesk_unified_tickets.closed_at AS v_freshdesk_unified_tickets_closed_at, v_freshdesk_unified_tickets.resolved_at AS v_freshdesk_unified_tickets_resolved_at, v_freshdesk_unified_tickets.reopened_at AS v_freshdesk_unified_tickets_reopened_at, v_freshdesk_unified_tickets.pending_since AS v_freshdesk_unified_tickets_pending_since, v_freshdesk_unified_tickets.status_updated_at AS v_freshdesk_unified_tickets_status_updated_at, v_freshdesk_unified_tickets.tags AS v_freshdesk_unified_tickets_tags, v_freshdesk_unified_tickets.custom_fields AS v_freshdesk_unified_tickets_custom_fields, v_freshdesk_unified_tickets.conversation_count AS v_freshdesk_unified_tickets_conversation_count, v_freshdesk_unified_tickets.last_conversation_at AS v_freshdesk_unified_tickets_last_conversation_at, v_freshdesk_unified_tickets.has_agent_response AS v_freshdesk_unified_tickets_has_agent_response, v_freshdesk_unified_tickets.has_rating AS v_freshdesk_unified_tickets_has_rating, v_freshdesk_unified_tickets.rating_score AS v_freshdesk_unified_tickets_rating_score, v_freshdesk_unified_tickets.rating_feedback AS v_freshdesk_unified_tickets_rating_feedback, v_freshdesk_unified_tickets.rating_created_at AS v_freshdesk_unified_tickets_rating_created_at 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.has_rating = true AND v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s AND v_freshdesk_unified_tickets.rating_created_at >= %(rating_created_at_1)s]
[parameters: {'merchant_id_1': 1, 'rating_created_at_1': datetime.datetime(2025, 6, 11, 2, 12, 42, 440353, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:12:47] [app.agents.database_tools] [ERROR] [search_tickets_in_db:103] [TOOL ERROR] search_tickets_in_db() - Error: type object 'FreshdeskUnifiedTicketView' has no attribute 'description_text'
[2025-06-11 21:13:14] [app.agents.database_tools] [ERROR] [get_support_dashboard_from_db:68] [TOOL ERROR] get_support_dashboard_from_db() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_1)s) THEN %(param_1)s ELSE %(param_2)s END) AS open, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_2)s) THEN %(param_3)s ELSE %(param_4)s END) AS pending, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_3)s) THEN %(param_5)s ELSE %(param_6)s END) AS resolved, sum(CASE WHEN (v_freshdesk_unified_tickets.status = %(status_4)s) THEN %(param_7)s ELSE %(param_8)s END) AS closed, count(v_freshdesk_unified_tickets.freshdesk_ticket_id) AS total 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s 
 LIMIT %(param_9)s]
[parameters: {'status_1': 2, 'param_1': 1, 'param_2': 0, 'status_2': 3, 'param_3': 1, 'param_4': 0, 'status_3': 4, 'param_5': 1, 'param_6': 0, 'status_4': 5, 'param_7': 1, 'param_8': 0, 'merchant_id_1': 1, 'param_9': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-06-11 21:13:18] [app.agents.database_tools] [ERROR] [get_recent_ticket_from_db:36] [TOOL ERROR] get_recent_ticket_from_db() - Error: (psycopg2.errors.UndefinedTable) relation "v_freshdesk_unified_tickets" does not exist
LINE 2: FROM v_freshdesk_unified_tickets 
             ^

[SQL: SELECT v_freshdesk_unified_tickets.merchant_id AS v_freshdesk_unified_tickets_merchant_id, v_freshdesk_unified_tickets.freshdesk_ticket_id AS v_freshdesk_unified_tickets_freshdesk_ticket_id, v_freshdesk_unified_tickets.ticket_id_numeric AS v_freshdesk_unified_tickets_ticket_id_numeric, v_freshdesk_unified_tickets.subject AS v_freshdesk_unified_tickets_subject, v_freshdesk_unified_tickets.description AS v_freshdesk_unified_tickets_description, v_freshdesk_unified_tickets.type AS v_freshdesk_unified_tickets_type, v_freshdesk_unified_tickets.source AS v_freshdesk_unified_tickets_source, v_freshdesk_unified_tickets.spam AS v_freshdesk_unified_tickets_spam, v_freshdesk_unified_tickets.status AS v_freshdesk_unified_tickets_status, v_freshdesk_unified_tickets.priority AS v_freshdesk_unified_tickets_priority, v_freshdesk_unified_tickets.is_escalated AS v_freshdesk_unified_tickets_is_escalated, v_freshdesk_unified_tickets.fr_escalated AS v_freshdesk_unified_tickets_fr_escalated, v_freshdesk_unified_tickets.nr_escalated AS v_freshdesk_unified_tickets_nr_escalated, v_freshdesk_unified_tickets.requester_id AS v_freshdesk_unified_tickets_requester_id, v_freshdesk_unified_tickets.requester_name AS v_freshdesk_unified_tickets_requester_name, v_freshdesk_unified_tickets.requester_email AS v_freshdesk_unified_tickets_requester_email, v_freshdesk_unified_tickets.responder_id AS v_freshdesk_unified_tickets_responder_id, v_freshdesk_unified_tickets.company_id AS v_freshdesk_unified_tickets_company_id, v_freshdesk_unified_tickets.group_id AS v_freshdesk_unified_tickets_group_id, v_freshdesk_unified_tickets.created_at AS v_freshdesk_unified_tickets_created_at, v_freshdesk_unified_tickets.updated_at AS v_freshdesk_unified_tickets_updated_at, v_freshdesk_unified_tickets.due_by AS v_freshdesk_unified_tickets_due_by, v_freshdesk_unified_tickets.fr_due_by AS v_freshdesk_unified_tickets_fr_due_by, v_freshdesk_unified_tickets.nr_due_by AS v_freshdesk_unified_tickets_nr_due_by, v_freshdesk_unified_tickets.first_responded_at AS v_freshdesk_unified_tickets_first_responded_at, v_freshdesk_unified_tickets.agent_responded_at AS v_freshdesk_unified_tickets_agent_responded_at, v_freshdesk_unified_tickets.requester_responded_at AS v_freshdesk_unified_tickets_requester_responded_at, v_freshdesk_unified_tickets.closed_at AS v_freshdesk_unified_tickets_closed_at, v_freshdesk_unified_tickets.resolved_at AS v_freshdesk_unified_tickets_resolved_at, v_freshdesk_unified_tickets.reopened_at AS v_freshdesk_unified_tickets_reopened_at, v_freshdesk_unified_tickets.pending_since AS v_freshdesk_unified_tickets_pending_since, v_freshdesk_unified_tickets.status_updated_at AS v_freshdesk_unified_tickets_status_updated_at, v_freshdesk_unified_tickets.tags AS v_freshdesk_unified_tickets_tags, v_freshdesk_unified_tickets.custom_fields AS v_freshdesk_unified_tickets_custom_fields, v_freshdesk_unified_tickets.conversation_count AS v_freshdesk_unified_tickets_conversation_count, v_freshdesk_unified_tickets.last_conversation_at AS v_freshdesk_unified_tickets_last_conversation_at, v_freshdesk_unified_tickets.has_agent_response AS v_freshdesk_unified_tickets_has_agent_response, v_freshdesk_unified_tickets.has_rating AS v_freshdesk_unified_tickets_has_rating, v_freshdesk_unified_tickets.rating_score AS v_freshdesk_unified_tickets_rating_score, v_freshdesk_unified_tickets.rating_feedback AS v_freshdesk_unified_tickets_rating_feedback, v_freshdesk_unified_tickets.rating_created_at AS v_freshdesk_unified_tickets_rating_created_at 
FROM v_freshdesk_unified_tickets 
WHERE v_freshdesk_unified_tickets.merchant_id = %(merchant_id_1)s ORDER BY v_freshdesk_unified_tickets.created_at DESC 
 LIMIT %(param_1)s]
[parameters: {'merchant_id_1': 1, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)

==> agents/logs/hirecj-backend.log <==
[2025-06-11 21:14:15] [app.platforms.web.workflow_handlers] [INFO] [_check_already_authenticated:148] [ALREADY_AUTH_CHECK] Checking authentication for b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:14:15] [app.platforms.web.workflow_handlers] [INFO] [_check_already_authenticated:149] [ALREADY_AUTH_CHECK] workflow=shopify_onboarding, has_session=True, user_id=None
[2025-06-11 21:14:15] [websocket] [INFO] [progress_callback:201] [WS_PROGRESS] Sending progress update: {'type': 'cj_thinking', 'data': {'status': 'initializing'}}
[2025-06-11 21:14:15] [app.services.message_processor] [INFO] [_get_cj_response:120] [CJ_AGENT] ====== COMPOSING RESPONSE ======
[2025-06-11 21:14:15] [app.services.message_processor] [INFO] [_get_cj_response:121] [CJ_AGENT] Merchant: onboarding_user
[2025-06-11 21:14:15] [app.services.message_processor] [INFO] [_get_cj_response:125] [CJ_AGENT] No user ID available
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [__init__:45] [CJ_AGENT] Using model: claude-sonnet-4-20250514
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [__init__:64] [CJ_AGENT] Initialized without merchant memory
[2025-06-11 21:14:15] [app.prompts.loader] [INFO] [load_cj_prompt:73] Loading CJ prompt from: prompts/cj/versions/v6.0.1.yaml
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_format_conversation_history:141] [CJ_AGENT] Including 1 messages in context
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_create_agent:270] [CJ_AGENT] [MEMORY] No merchant memory available for context
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_create_agent:273] [CJ_AGENT] Creating CJ agent:
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_create_agent:274] [CJ_AGENT] - Merchant: onboarding_user
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_create_agent:275] [CJ_AGENT] - Scenario: onboarding
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_create_agent:276] [CJ_AGENT] - Workflow: shopify_onboarding
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_create_agent:277] [CJ_AGENT] - Version: v6.0.1
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_create_agent:278] [CJ_AGENT] - Tools: 0 available
[2025-06-11 21:14:15] [app.agents.cj_agent] [INFO] [_create_agent:282] [CJ_AGENT] - Caching: disabled
[2025-06-11 21:14:15] [opentelemetry.trace] [WARNING] [_set_tracer_provider:535] Overriding of current TracerProvider is not allowed
[2025-06-11 21:14:15] [websocket] [INFO] [progress_callback:201] [WS_PROGRESS] Sending progress update: {'type': 'cj_thinking', 'data': {'status': 'generating'}}
[2025-06-11 21:14:15] [app.services.message_processor] [INFO] [_get_cj_response:164] [LLM_PROMPT] Prompting LLM for session 7b442a2f-9fb8-4b4b-b4a1-db302439f954
  User message: 'Begin onboarding introduction'
  Chat history (1 messages):
    merchant: Begin onboarding introduction
[2025-06-11 21:14:23] [app.services.message_processor] [INFO] [_get_cj_response:178] [LLM_RESPONSE] Got response (833 chars): Hey there! 👋 I'm CJ, your AI Customer Support Lead. Think of me as your tireless teammate who handles support operations 24/7 so you can focus on growing your business.

I'm excited to work with you! ...
[2025-06-11 21:14:23] [app.services.message_processor] [INFO] [_get_cj_response:181] [CJ_AGENT] ====== RESPONSE COMPLETE ======
[2025-06-11 21:14:23] [websocket] [INFO] [_handle_initial_workflow_action:274] [WS_SEND] Sending initial CJ message: content='Hey there! 👋 I'm CJ, your AI Customer Support Lead. Think of me as your tireless teammate who handle...' full_data={'content': "Hey there! 👋 I'm CJ, your AI Customer Support Lead. Think of me as your tireless teammate who handles support operations 24/7 so you can focus on growing your business.\n\nI'm excited to work with you! Before we dive in - is this our first time chatting, or have we connected before? I want to make sure I give you the right experience.\n\nJust so you know, I'm still in beta (which means I'm learning fast but occasionally need a coffee break to figure things out). The cool part? I can already help you turn support chaos into growth insights, handle tickets autonomously, and give you back hours of your day.\n\nWhat's your name, by the way? I like to know who I'm working with! \n\nOnce I get to know you a bit, I'll show you how I can connect to your Shopify store to start understanding your customers and support patterns. Sound good?", 'factCheckStatus': 'available', 'timestamp': '2025-06-11T21:14:23.843444'}
[2025-06-11 21:14:23] [app.middleware.load_user] [DEBUG] [dispatch:70] [MIDDLEWARE] No session cookie found
[2025-06-11 21:14:23] [app.middleware.load_user] [DEBUG] [dispatch:70] [MIDDLEWARE] No session cookie found
[2025-06-11 21:14:32] [app.services.conversation_storage] [INFO] [save_session:57] Saved session to data/conversations/onboarding_user_onboarding_20250611_211432.json
[2025-06-11 21:14:32] [app.platforms.web.websocket_handler] [INFO] [_handle_disconnect:209] [CONVERSATION] Saved conversation b2c4446e-392c-4ab2-bae3-5c168e05ba25 on disconnect
[2025-06-11 21:14:32] [app.platforms.web.websocket_handler] [INFO] [handle_connection:106] WebSocket connection b2c4446e-392c-4ab2-bae3-5c168e05ba25 disconnected
[2025-06-11 21:14:35] [app.middleware.load_user] [DEBUG] [dispatch:70] [MIDDLEWARE] No session cookie found
[2025-06-11 21:14:35] [app.api.routes.internal] [INFO] [handle_oauth_completion:22] [INTERNAL_API] OAuth completion notification for conversation: b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:14:35] [app.api.routes.internal] [INFO] [handle_oauth_completion:25] [INTERNAL_API] OAuth data: shop_domain=cratejoy-dev.myshopify.com, is_new=False
[2025-06-11 21:14:35] [app.services.post_oauth_handler] [INFO] [handle_oauth_completion:41] [POST_OAUTH] Handling OAuth completion for conversation: b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:14:35] [app.services.post_oauth_handler] [INFO] [handle_oauth_completion:50] [POST_OAUTH] User identity confirmed: user_id=usr_2230c443, new_user=False
[2025-06-11 21:14:35] [app.services.session_manager] [INFO] [create_session:75] No universe data for cratejoy-dev/post_auth
[2025-06-11 21:14:36] [app.services.session_manager] [INFO] [create_session:108] Found Shopify integration for cratejoy-dev: cratejoy-dev.myshopify.com
[2025-06-11 21:14:36] [app.services.session_manager] [INFO] [create_session:121] Created session e5df5df1-8e2d-4e6f-bddd-0559bccc0372 with oauth_metadata: True
[2025-06-11 21:14:36] [app.services.post_oauth_handler] [INFO] [handle_oauth_completion:70] [POST_OAUTH] Created session e5df5df1-8e2d-4e6f-bddd-0559bccc0372 with shopify_post_auth workflow
[2025-06-11 21:14:36] [app.services.post_oauth_handler] [INFO] [handle_oauth_completion:83] [POST_OAUTH] Successfully prepared post-auth state for conversation b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:14:41] [app.middleware.load_user] [DEBUG] [dispatch:39] [MIDDLEWARE] Found session cookie: sess_87956...
[2025-06-11 21:14:42] [app.middleware.load_user] [INFO] [dispatch:63] [MIDDLEWARE] Loaded user usr_2230c443 from session
[2025-06-11 21:16:27] [app.middleware.load_user] [DEBUG] [dispatch:39] [MIDDLEWARE] Found session cookie: sess_87956...
[2025-06-11 21:16:28] [app.middleware.load_user] [INFO] [dispatch:63] [MIDDLEWARE] Loaded user usr_2230c443 from session
[2025-06-11 21:16:31] [app.middleware.load_user] [DEBUG] [dispatch:39] [MIDDLEWARE] Found session cookie: sess_87956...
[2025-06-11 21:16:32] [app.middleware.load_user] [INFO] [dispatch:63] [MIDDLEWARE] Loaded user usr_2230c443 from session
[2025-06-11 21:16:32] [app.main] [INFO] [websocket_chat:425] New WebSocket connection: b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:32] [app.platforms.web.websocket_handler] [INFO] [handle_connection:43] [WEBSOCKET] Found session cookie: sess_87956...
[2025-06-11 21:16:33] [app.platforms.web.websocket_handler] [INFO] [handle_connection:60] [WEBSOCKET] User usr_2230c443 connected via session cookie
[2025-06-11 21:16:33] [app.platforms.web.websocket_handler] [INFO] [handle_connection:85] [WEBSOCKET_LIFECYCLE] New WebSocket connection: b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:33] [websocket] [DEBUG] [handle_connection:88] [WS_DEBUG] WebSocket handler started for conversation: b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:33] [websocket] [INFO] [_handle_websocket_message:121] [WS_RECEIVE] conversation=b2c4446e-392c-4ab2-bae3-5c168e05ba25 type=start_conversation size=193 data={'type': 'start_conversation', 'data': {'conversation_id': 'b2c4446e-392c-4ab2-bae3-5c168e05ba25', 'merchant_id': 'onboarding_user', 'scenario': 'onboarding', 'workflow': 'shopify_onboarding'}}
[2025-06-11 21:16:33] [app.services.post_oauth_handler] [INFO] [get_post_auth_state:110] [POST_OAUTH] Retrieved post-auth state for conversation b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:33] [app.services.session_manager] [INFO] [store_session:172] Stored session with ID b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:33] [app.platforms.web.session_handlers] [INFO] [handle_start_conversation:55] [POST_OAUTH] Using post-auth state for b2c4446e-392c-4ab2-bae3-5c168e05ba25, preserving workflow: shopify_post_auth
[2025-06-11 21:16:33] [app.platforms.web.session_handlers] [INFO] [handle_start_conversation:85] [SESSION_CHECK] Looking for existing session: b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:33] [app.platforms.web.session_handlers] [INFO] [handle_start_conversation:90] [RECONNECT] Resuming existing session for b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:33] [app.platforms.web.session_handlers] [INFO] [handle_start_conversation:93] [RECONNECT] Session has 0 messages
[2025-06-11 21:16:33] [app.platforms.web.session_handlers] [INFO] [handle_start_conversation:99] [RECONNECT] Preserving existing session workflow: shopify_post_auth
[2025-06-11 21:16:33] [app.platforms.web.session_handlers] [INFO] [_process_post_oauth_analysis:250] [POST_OAUTH] Starting async analysis for b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:33] [app.services.message_processor] [INFO] [_get_cj_response:120] [CJ_AGENT] ====== COMPOSING RESPONSE ======
[2025-06-11 21:16:33] [app.services.message_processor] [INFO] [_get_cj_response:121] [CJ_AGENT] Merchant: cratejoy-dev
[2025-06-11 21:16:33] [app.services.message_processor] [INFO] [_get_cj_response:123] [CJ_AGENT] User ID: usr_2230c443
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [__init__:45] [CJ_AGENT] Using model: claude-sonnet-4-20250514
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [__init__:62] [CJ_AGENT] Initialized with 0 merchant memory facts
[2025-06-11 21:16:33] [app.prompts.loader] [INFO] [load_cj_prompt:73] Loading CJ prompt from: prompts/cj/versions/v6.0.1.yaml
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_load_tools:172] [CJ_AGENT] Loaded 4 Shopify tools
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_load_tools:174] [CJ_AGENT] Shopify tools: get_shopify_store_counts, get_shopify_store_overview, get_shopify_recent_orders, get_shopify_orders_last_week
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:261] [CJ_AGENT] [MEMORY] Injecting 8 facts into context for cratejoy-dev
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:273] [CJ_AGENT] Creating CJ agent:
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:274] [CJ_AGENT] - Merchant: cratejoy-dev
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:275] [CJ_AGENT] - Scenario: post_auth
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:276] [CJ_AGENT] - Workflow: shopify_post_auth
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:277] [CJ_AGENT] - Version: v6.0.1
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:278] [CJ_AGENT] - Tools: 4 available
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:281] [CJ_AGENT] - Tool names: get_shopify_store_counts, get_shopify_store_overview, get_shopify_recent_orders, get_shopify_orders_last_week
[2025-06-11 21:16:33] [app.agents.cj_agent] [INFO] [_create_agent:282] [CJ_AGENT] - Caching: disabled
[2025-06-11 21:16:33] [opentelemetry.trace] [WARNING] [_set_tracer_provider:535] Overriding of current TracerProvider is not allowed
[2025-06-11 21:16:33] [app.services.message_processor] [INFO] [_get_cj_response:164] [LLM_PROMPT] Prompting LLM for session e5df5df1-8e2d-4e6f-bddd-0559bccc0372
  User message: 'SYSTEM_EVENT: shopify_oauth_complete'
  Chat history (0 messages):

[2025-06-11 21:16:38] [app.services.merchant_service] [INFO] [get_shopify_token:31] Got token from PostgreSQL for cratejoy-dev.myshopify.com
[2025-06-11 21:16:44] [app.services.merchant_service] [INFO] [get_shopify_token:31] Got token from PostgreSQL for cratejoy-dev.myshopify.com
[2025-06-11 21:16:53] [app.services.message_processor] [INFO] [_get_cj_response:178] [LLM_RESPONSE] Got response (905 chars): 🎯 **Shopify Connected Successfully!**

Welcome to the team! Your cratejoy-dev store is now live and I'm ready to handle support operations.

**Quick Store Snapshot:**
- ✅ 5 snowboard products cataloge...
[2025-06-11 21:16:53] [app.services.message_processor] [INFO] [_get_cj_response:181] [CJ_AGENT] ====== RESPONSE COMPLETE ======
[2025-06-11 21:16:53] [app.platforms.web.session_handlers] [INFO] [_process_post_oauth_analysis:264] [POST_OAUTH] Analysis complete for b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:16:54] [app.middleware.load_user] [DEBUG] [dispatch:70] [MIDDLEWARE] No session cookie found
[2025-06-11 21:16:54] [app.middleware.load_user] [DEBUG] [dispatch:70] [MIDDLEWARE] No session cookie found
[2025-06-11 21:17:48] [websocket] [INFO] [_handle_websocket_message:121] [WS_RECEIVE] conversation=b2c4446e-392c-4ab2-bae3-5c168e05ba25 type=debug_request size=54 data={'type': 'debug_request', 'data': {'type': 'session'}}
[2025-06-11 21:17:48] [app.platforms.web.utility_handlers] [INFO] [handle_debug_request:110] [DEBUG_REQUEST] Sent debug info for b2c4446e-392c-4ab2-bae3-5c168e05ba25: type=session

==> auth/logs/auth-service.log <==
[2025-06-11 20:51:41] [app.config] [INFO]   Freshdesk: https://amir-auth.hirecj.ai/api/v1/freshdesk/callback
[2025-06-11 21:08:28] [app.main] [INFO] Starting HireCJ Auth Service
[2025-06-11 21:08:28] [app.main] [INFO] Environment: Development
[2025-06-11 21:08:28] [app.main] [INFO] API available at http://0.0.0.0:8103
[2025-06-11 21:08:28] [app.main] [INFO] 🔧 Configured URLs:
[2025-06-11 21:08:28] [app.main] [INFO]   Frontend URL: https://amir.hirecj.ai
[2025-06-11 21:08:28] [app.main] [INFO]   Homepage URL: https://amir.hirecj.ai
[2025-06-11 21:08:28] [app.main] [INFO]   OAuth Redirect Base: https://amir-auth.hirecj.ai
[2025-06-11 21:08:28] [app.main] [INFO]   Auth Service URL: https://amir-auth.hirecj.ai
[2025-06-11 21:08:28] [app.main] [INFO] 🛍️ Shopify OAuth Configuration:
[2025-06-11 21:08:28] [app.main] [INFO]   Redirect URI: https://amir-auth.hirecj.ai/api/v1/shopify/callback
[2025-06-11 21:08:28] [app.main] [INFO]   Client ID: 596df18067f0540b4daf9f7a202854da
[2025-06-11 21:08:28] [app.main] [INFO]   Scopes: read_products,read_customers,read_orders
[2025-06-11 21:08:28] [app.config] [INFO] 🔐 OAuth Callback URLs:
[2025-06-11 21:08:28] [app.config] [INFO]   Base URL: https://amir-auth.hirecj.ai
[2025-06-11 21:08:28] [app.config] [INFO]   Shopify: https://amir-auth.hirecj.ai/api/v1/shopify/callback
[2025-06-11 21:08:28] [app.config] [INFO]   Klaviyo: https://amir-auth.hirecj.ai/api/v1/klaviyo/callback
[2025-06-11 21:08:28] [app.config] [INFO]   Freshdesk: https://amir-auth.hirecj.ai/api/v1/freshdesk/callback
[2025-06-11 21:14:31] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] Initiating OAuth for shop: cratejoy-dev.myshopify.com
[2025-06-11 21:14:31] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] Frontend URL configured as: https://amir.hirecj.ai
[2025-06-11 21:14:31] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] OAuth redirect base: https://amir-auth.hirecj.ai
[2025-06-11 21:14:31] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] State data to encode: {'nonce': 'vK8iz3nAPbm-5OyZigDWPWdVmF6pE_vgNICKQeTFJbk', 'conversation_id': 'b2c4446e-392c-4ab2-bae3-5c168e05ba25'}
[2025-06-11 21:14:31] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] Encoded state: eyJub25jZSI6ICJ2Szhp...
[2025-06-11 21:14:32] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] Generated state for shop cratejoy-dev.myshopify.com: eyJub25jZS...
[2025-06-11 21:14:32] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] Building auth with redirect_uri: 'https://amir-auth.hirecj.ai/api/v1/shopify/callback'
[2025-06-11 21:14:32] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] Redirect URI length: 51 chars
[2025-06-11 21:14:32] [app.api.shopify_oauth] [INFO] [OAUTH_INSTALL] Redirect URI encoded: 68747470733a2f2f616d69722d617574682e68697265636a2e61692f6170692f76312f73686f706966792f63616c6c6261636b
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO] [SHOPIFY_AUTH] Building auth URL with:
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   shop: cratejoy-dev.myshopify.com
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   client_id: 596df18067f0540b4daf9f7a202854da
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   redirect_uri: https://amir-auth.hirecj.ai/api/v1/shopify/callback
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   scopes: read_products,read_customers,read_orders
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO] [SHOPIFY_AUTH] Redirect URI analysis:
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   Length: 51
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   Starts with: https://amir-auth.hirecj.ai/api/v1/shopify/callbac
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   Ends with: ttps://amir-auth.hirecj.ai/api/v1/shopify/callback
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   Contains spaces: False
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO]   URL encoded: redirect_uri=https%3A%2F%2Famir-auth.hirecj.ai%2Fapi%2Fv1%2Fshopify%2Fcallback
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO] [SHOPIFY_AUTH] Full auth URL: https://cratejoy-dev.myshopify.com/admin/oauth/authorize?client_id=596df18067f0540b4daf9f7a202854da&scope=read_products%2Cread_customers%2Cread_orders&redirect_uri=https%3A%2F%2Famir-auth.hirecj.ai%2Fapi%2Fv1%2Fshopify%2Fcallback&state=eyJub25jZSI6ICJ2SzhpejNuQVBibS01T3laaWdEV1BXZFZtRjZwRV92Z05JQ0tRZVRGSmJrIiwgImNvbnZlcnNhdGlvbl9pZCI6ICJiMmM0NDQ2ZS0zOTJjLTRhYjItYmFlMy01YzE2OGUwNWJhMjUifQ%3D%3D
[2025-06-11 21:14:32] [app.services.shopify_auth] [INFO] [SHOPIFY_AUTH] Final redirect_uri in URL: 'https://amir-auth.hirecj.ai/api/v1/shopify/callback'
[2025-06-11 21:14:33] [app.api.shopify_oauth] [INFO] [OAUTH_CALLBACK] Received callback for shop: cratejoy-dev.myshopify.com
[2025-06-11 21:14:33] [app.services.shopify_auth] [INFO] [HMAC_VALIDATION] SUCCESS
[2025-06-11 21:14:33] [app.services.shopify_auth] [INFO] [HMAC_VALIDATION] Debug Details:
[2025-06-11 21:14:33] [app.services.shopify_auth] [INFO]   - Client Secret Used: '6607991578670584036f4498350fad8c'
[2025-06-11 21:14:33] [app.services.shopify_auth] [INFO]   - Query String for HMAC: 'code=5ff16fbf51c3fa167441af3bc2f3cbba&host=YWRtaW4uc2hvcGlmeS5jb20vc3RvcmUvY3JhdGVqb3ktZGV2&shop=cratejoy-dev.myshopify.com&state=eyJub25jZSI6ICJ2SzhpejNuQVBibS01T3laaWdEV1BXZFZtRjZwRV92Z05JQ0tRZVRGSmJrIiwgImNvbnZlcnNhdGlvbl9pZCI6ICJiMmM0NDQ2ZS0zOTJjLTRhYjItYmFlMy01YzE2OGUwNWJhMjUifQ==&timestamp=1749694473'
[2025-06-11 21:14:33] [app.services.shopify_auth] [INFO]   - Provided HMAC:   'd99d2a8edfaf0e55b2f13fe8b148683ac6f5fcb060d9d6ab4a497a4ab9582d9e'
[2025-06-11 21:14:33] [app.services.shopify_auth] [INFO]   - Calculated HMAC: 'd99d2a8edfaf0e55b2f13fe8b148683ac6f5fcb060d9d6ab4a497a4ab9582d9e'
[2025-06-11 21:14:34] [app.api.shopify_oauth] [INFO] [OAUTH_CALLBACK] State data retrieved from DB: shop=cratejoy-dev.myshopify.com, conversation_id=b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:14:34] [app.api.shopify_oauth] [INFO] [TOKEN_EXCHANGE] Preparing to exchange code for token:
[2025-06-11 21:14:34] [app.api.shopify_oauth] [INFO]   - Using Client ID: '596df18067f0540b4daf9f7a202854da'
[2025-06-11 21:14:34] [app.api.shopify_oauth] [INFO]   - Using Client Secret: '6607991578670584036f4498350fad8c'
[2025-06-11 21:14:34] [httpx] [DEBUG] load_ssl_context verify=True cert=None trust_env=True http2=False
[2025-06-11 21:14:34] [httpx] [DEBUG] load_verify_locations cafile='/Users/aelaguiz/workspace/hirecj/auth/venv/lib/python3.11/site-packages/certifi/cacert.pem'
[2025-06-11 21:14:34] [httpcore.connection] [DEBUG] connect_tcp.started host='cratejoy-dev.myshopify.com' port=443 local_address=None timeout=10.0 socket_options=None
[2025-06-11 21:14:34] [httpcore.connection] [DEBUG] connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1127bfe10>
[2025-06-11 21:14:34] [httpcore.connection] [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x11279c680> server_hostname='cratejoy-dev.myshopify.com' timeout=10.0
[2025-06-11 21:14:34] [httpcore.connection] [DEBUG] start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1127bff90>
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] send_request_headers.started request=<Request [b'POST']>
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] send_request_headers.complete
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] send_request_body.started request=<Request [b'POST']>
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] send_request_body.complete
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] receive_response_headers.started request=<Request [b'POST']>
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 12 Jun 2025 02:14:34 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-sorting-hat-podid', b'311'), (b'x-sorting-hat-shopid', b'90947092792'), (b'vary', b'Accept-Encoding,Accept'), (b'referrer-policy', b'origin-when-cross-origin'), (b'x-frame-options', b'DENY'), (b'x-shopid', b'90947092792'), (b'x-shardid', b'311'), (b'cache-control', b'no-store'), (b'strict-transport-security', b'max-age=7889238'), (b'set-cookie', b'_secure_admin_session_id=3f84506ec7b49d86e8096c945c856178; path=/admin; expires=Fri, 12 Sep 2025 02:14:34 GMT; secure; HttpOnly'), (b'set-cookie', b'_secure_admin_session_id_csrf=3f84506ec7b49d86e8096c945c856178; path=/admin; expires=Fri, 12 Sep 2025 02:14:34 GMT; secure; HttpOnly; SameSite=Lax'), (b'set-cookie', b'_master_udr=eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt4T0RVMk5ETTNPQzA0T1RZekxUUXpNamd0T1dVME55MHpOR0ZrTlROalpqUXhOVE1HT2daRlJnPT0iLCJleHAiOiIyMDI3LTA2LTEyVDAyOjE0OjM0LjIzMFoiLCJwdXIiOiJjb29raWUuX21hc3Rlcl91ZHIifX0%3D--d30c77a916fcdf697d863e12ec93380e1c76e86b; path=/admin; expires=Sat, 12 Jun 2027 02:14:34 GMT; secure; HttpOnly; SameSite=Lax'), (b'x-request-id', b'0e229343-b1d8-4456-9449-31486092a22d-1749694474'), (b'server-timing', b'processing;dur=56'), (b'content-security-policy', b"default-src 'self' data: blob: 'unsafe-inline' 'unsafe-eval' https://* shopify-pos://*; block-all-mixed-content; child-src 'self' https://* shopify-pos://*; connect-src 'self' wss://* https://*; frame-ancestors 'none'; img-src 'self' data: blob: https:; script-src https://cdn.shopify.com https://cdn.shopifycdn.net https://checkout.pci.shopifyinc.com https://checkout.pci.shopifyinc.com/build/75a428d/card_fields.js https://api.stripe.com https://mpsnare.iesnare.com https://appcenter.intuit.com https://www.paypal.com https://js.braintreegateway.com https://c.paypal.com https://maps.googleapis.com https://www.google-analytics.com https://v.shopify.com 'self' 'unsafe-inline' 'unsafe-eval'; upgrade-insecure-requests; report-uri /csp-report?source%5Baction%5D=access_token&source%5Bapp%5D=Shopify&source%5Bcontroller%5D=admin%2Foauth&source%5Bsection%5D=admin&source%5Buuid%5D=0e229343-b1d8-4456-9449-31486092a22d-1749694474; report-to shopify-csp"), (b'x-content-type-options', b'nosniff'), (b'x-download-options', b'noopen'), (b'x-permitted-cross-domain-policies', b'none'), (b'x-xss-protection', b'1; mode=block'), (b'reporting-endpoints', b'shopify-csp="/csp-report?source%5Baction%5D=access_token&source%5Bapp%5D=Shopify&source%5Bcontroller%5D=admin%2Foauth&source%5Bsection%5D=admin&source%5Buuid%5D=0e229343-b1d8-4456-9449-31486092a22d-1749694474"'), (b'x-dc', b'gcp-us-east1,gcp-us-east1,gcp-us-east1'), (b'content-encoding', b'gzip'), (b'Alt-Svc', b'h3=":443"; ma=86400'), (b'cf-cache-status', b'DYNAMIC'), (b'Report-To', b'{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=sQDDMdjG26KETPitP8s3ELWwvYaqbPX9fJ3LmLZr3XcbpxUR%2BZxN%2F1Dd6G%2B17lavhapKLTFJ6XfLzghT22%2FNYVHD%2FtO6lgS6yIUrXbpjHFYM2OzJrBPQptL9n6GKRXxF6CDuUoJ5%2Ff%2BW8Y8o"}],"group":"cf-nel","max_age":604800}'), (b'NEL', b'{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}'), (b'Server-Timing', b'cfRequestDuration;dur=159.999847'), (b'Shopify-Edge-Ip', b'23.227.38.74'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94e5d5df5b8c6f16-DFW')])
[2025-06-11 21:14:34] [httpx] [INFO] HTTP Request: POST https://cratejoy-dev.myshopify.com/admin/oauth/access_token "HTTP/1.1 200 OK"
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] receive_response_body.started request=<Request [b'POST']>
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] receive_response_body.complete
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] response_closed.started
[2025-06-11 21:14:34] [httpcore.http11] [DEBUG] response_closed.complete
[2025-06-11 21:14:34] [app.api.shopify_oauth] [INFO] [TOKEN_EXCHANGE] Success for shop: cratejoy-dev.myshopify.com, scopes: read_products,read_orders,read_customers
[2025-06-11 21:14:34] [httpcore.connection] [DEBUG] close.started
[2025-06-11 21:14:34] [httpcore.connection] [DEBUG] close.complete
[2025-06-11 21:14:34] [app.services.merchant_storage] [INFO] [MERCHANT_STORAGE] Stored token for cratejoy-dev.myshopify.com (merchant_id: 1)
[2025-06-11 21:14:35] [app.api.shopify_oauth] [INFO] [OAUTH_CALLBACK] User identity: usr_2230c443, is_new: False
[2025-06-11 21:14:35] [app.api.shopify_oauth] [INFO] [OAUTH_CALLBACK] Successfully authenticated shop: cratejoy-dev.myshopify.com, is_new: False
[2025-06-11 21:14:35] [httpx] [DEBUG] load_ssl_context verify=True cert=None trust_env=True http2=False
[2025-06-11 21:14:35] [httpx] [DEBUG] load_verify_locations cafile='/Users/aelaguiz/workspace/hirecj/auth/venv/lib/python3.11/site-packages/certifi/cacert.pem'
[2025-06-11 21:14:35] [httpcore.connection] [DEBUG] connect_tcp.started host='f6ca0f4b640a.ngrok.app' port=443 local_address=None timeout=30.0 socket_options=None
[2025-06-11 21:14:35] [httpcore.connection] [DEBUG] connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112f7ccd0>
[2025-06-11 21:14:35] [httpcore.connection] [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x11279e600> server_hostname='f6ca0f4b640a.ngrok.app' timeout=30.0
[2025-06-11 21:14:35] [httpcore.connection] [DEBUG] start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1127bff50>
[2025-06-11 21:14:35] [httpcore.http11] [DEBUG] send_request_headers.started request=<Request [b'POST']>
[2025-06-11 21:14:35] [httpcore.http11] [DEBUG] send_request_headers.complete
[2025-06-11 21:14:35] [httpcore.http11] [DEBUG] send_request_body.started request=<Request [b'POST']>
[2025-06-11 21:14:35] [httpcore.http11] [DEBUG] send_request_body.complete
[2025-06-11 21:14:35] [httpcore.http11] [DEBUG] receive_response_headers.started request=<Request [b'POST']>
[2025-06-11 21:14:36] [httpcore.http11] [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'114'), (b'Content-Type', b'application/json'), (b'Date', b'Thu, 12 Jun 2025 02:14:34 GMT'), (b'Server', b'uvicorn')])
[2025-06-11 21:14:36] [httpx] [INFO] HTTP Request: POST https://f6ca0f4b640a.ngrok.app/api/v1/internal/oauth/completed "HTTP/1.1 200 OK"
[2025-06-11 21:14:36] [httpcore.http11] [DEBUG] receive_response_body.started request=<Request [b'POST']>
[2025-06-11 21:14:36] [httpcore.http11] [DEBUG] receive_response_body.complete
[2025-06-11 21:14:36] [httpcore.http11] [DEBUG] response_closed.started
[2025-06-11 21:14:36] [httpcore.http11] [DEBUG] response_closed.complete
[2025-06-11 21:14:36] [httpcore.connection] [DEBUG] close.started
[2025-06-11 21:14:36] [httpcore.connection] [DEBUG] close.complete
[2025-06-11 21:14:36] [app.api.shopify_oauth] [INFO] [OAUTH] Successfully notified agents service of OAuth completion for b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:14:36] [app.api.shopify_oauth] [INFO] [OAUTH_CALLBACK] Redirecting to: https://amir.hirecj.ai/chat?oauth=complete&workflow=shopify_post_auth&conversation_id=b2c4446e-392c-4ab2-bae3-5c168e05ba25
[2025-06-11 21:14:36] [app.services.session_cookie] [INFO] [SESSION] Issuing new session for user usr_2230c443
[2025-06-11 21:14:36] [app.services.session_cookie] [INFO] [SESSION] Cleaned up 1 existing sessions for user usr_2230c443
[2025-06-11 21:14:36] [app.services.session_cookie] [INFO] [SESSION] Successfully issued session sess_8795687b54986945be3d17aa5f481862 for user usr_2230c443, expires at 2025-06-13 02:14:36.554162
[2025-06-11 21:14:36] [app.api.shopify_oauth] [INFO] [OAUTH_CALLBACK] Setting cookie domain to .hirecj.ai for cross-subdomain access
[2025-06-11 21:14:36] [app.api.shopify_oauth] [INFO] [OAUTH_CALLBACK] Set session cookie for user usr_2230c443 (domain: .hirecj.ai)

==> homepage/logs/homepage-backend.log <==
[2025-06-11 21:16:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"2ms"}
[2025-06-11 21:16:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Messages updated","timestamp":"2025-06-12T02:16:26.978Z","component":"client.chat","data":{"count":0,"messages":[]}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing WebSocket URL","timestamp":"2025-06-12T02:16:26.972Z","component":"client.websocket","data":{"protocol":"wss:","host":"amir.hirecj.ai","defaultUrl":"wss://amir.hirecj.ai","envOverride":""}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing connection key","timestamp":"2025-06-12T02:16:26.972Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_post_auth"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"warn","message":"Connection key null - missing merchant/scenario for non-onboarding workflow","timestamp":"2025-06-12T02:16:26.972Z","component":"client.websocket","data":{"workflow":"shopify_post_auth","merchantId":"","scenario":"","hasMerchantId":false,"hasScenario":false}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:28] [WARN] [CLIENT] Connection key null - missing merchant/scenario for non-onboarding workflow {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:26.972Z","data":{"workflow":"shopify_post_auth","merchantId":"","scenario":"","hasMerchantId":false,"hasScenario":false},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🔄 Connection lifecycle effect triggered","timestamp":"2025-06-12T02:16:26.984Z","component":"client.websocket","data":{"hasConnectionKey":false,"connectionKey":null}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"warn","message":"⚠️ No connection key - skipping connection","timestamp":"2025-06-12T02:16:26.984Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:28] [WARN] [CLIENT] ⚠️ No connection key - skipping connection {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:26.984Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"2ms"}
[2025-06-11 21:16:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:27.128Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_post_auth"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:29] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:29] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:31] [INFO] [REQUEST_START] GET /api/v1/universes/ {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:31.199Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:32] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Messages updated","timestamp":"2025-06-12T02:16:31.204Z","component":"client.chat","data":{"count":0,"messages":[]}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:32] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing WebSocket URL","timestamp":"2025-06-12T02:16:31.199Z","component":"client.websocket","data":{"protocol":"wss:","host":"amir.hirecj.ai","defaultUrl":"wss://amir.hirecj.ai","envOverride":""}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:32] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing connection key","timestamp":"2025-06-12T02:16:31.199Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:32] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Connection key for ${workflow}","timestamp":"2025-06-12T02:16:31.199Z","component":"client.websocket","data":{"key":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [CLIENT] Connection key for ${workflow} {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:31.199Z","data":{"key":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:32] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:32] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🔄 Connection lifecycle effect triggered","timestamp":"2025-06-12T02:16:31.204Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:32] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📞 Initiating connection for key:","timestamp":"2025-06-12T02:16:31.204Z","component":"client.websocket","data":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [CLIENT] 📞 Initiating connection for key: {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:31.204Z","data":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:32] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"2ms"}
[2025-06-11 21:16:32] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Connect function called","timestamp":"2025-06-12T02:16:31.205Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:32] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:33] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🚀 Connecting to WebSocket","timestamp":"2025-06-12T02:16:31.205Z","component":"client.websocket","data":{"connectionKey":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:33] [INFO] [CLIENT] 🚀 Connecting to WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:31.205Z","data":{"connectionKey":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:33] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:33] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🔌 Creating WebSocket","timestamp":"2025-06-12T02:16:31.205Z","component":"client.websocket","data":{"url":"wss://amir.hirecj.ai/ws/chat/b2c4446e-392c-4ab2-bae3-5c168e05ba25","baseUrl":"wss://amir.hirecj.ai","conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:33] [INFO] [CLIENT] 🔌 Creating WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:31.205Z","data":{"url":"wss://amir.hirecj.ai/ws/chat/b2c4446e-392c-4ab2-bae3-5c168e05ba25","baseUrl":"wss://amir.hirecj.ai","conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:33] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:33] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"WebSocket instance created","timestamp":"2025-06-12T02:16:31.205Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:33] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:33] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:31.339Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:33] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:33] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Checking current connection state","timestamp":"2025-06-12T02:16:31.339Z","component":"client.websocket","data":{"currentState":"idle"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:33] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:33] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Setting state to connecting","timestamp":"2025-06-12T02:16:31.339Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:33] [INFO] [CLIENT] Setting state to connecting {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:31.339Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:33] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"2ms"}
[2025-06-11 21:16:34] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"✅ WebSocket connected successfully","timestamp":"2025-06-12T02:16:33.141Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:34] [INFO] [CLIENT] ✅ WebSocket connected successfully {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:33.141Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:34] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:34] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:33.142Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:34] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:34] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📤 start_conversation data:","timestamp":"2025-06-12T02:16:33.242Z","component":"client.websocket","data":{"conversation_id":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchant_id":"onboarding_user","scenario":"onboarding","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:34] [INFO] [CLIENT] 📤 start_conversation data: {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:33.242Z","data":{"conversation_id":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchant_id":"onboarding_user","scenario":"onboarding","workflow":"shopify_onboarding"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:34] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:34] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Messages updated","timestamp":"2025-06-12T02:16:33.472Z","component":"client.chat","data":{"count":1,"messages":[{"id":"cj-1749694593455","sender":"cj","preview":"🔄 Connection successful! Analyzing your store......","metadata":{"factCheckAvailable":true}}]}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:34] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:34] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📤 Current user session:","timestamp":"2025-06-12T02:16:33.242Z","component":"client.websocket","data":{"merchantId":null,"shopDomain":null}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:34] [INFO] [CLIENT] 📤 Current user session: {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:33.242Z","data":{"merchantId":null,"shopDomain":null},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:34] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:34] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📤 Sending start_conversation","timestamp":"2025-06-12T02:16:33.242Z","component":"client.websocket","data":{"type":"start_conversation","data":{"conversation_id":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchant_id":"onboarding_user","scenario":"onboarding","workflow":"shopify_onboarding"}}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:34] [INFO] [CLIENT] 📤 Sending start_conversation {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:33.242Z","data":{"type":"start_conversation","data":{"conversation_id":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchant_id":"onboarding_user","scenario":"onboarding","workflow":"shopify_onboarding"}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:34] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:34] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Received message","timestamp":"2025-06-12T02:16:33.440Z","component":"client.websocket","data":{"type":"conversation_started","data":{"type":"conversation_started","data":{"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"onboarding_user","scenario":"onboarding","workflow":"shopify_post_auth","sessionId":"e5df5df1-8e2d-4e6f-bddd-0559bccc0372","workflow_requirements":{"authentication":true,"merchant":true,"scenario":false},"user_id":"usr_2230c443","resumed":true,"messageCount":0,"messages":[]}}}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:34] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:34] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Conversation started","timestamp":"2025-06-12T02:16:33.441Z","component":"client.websocket","data":{"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"onboarding_user","scenario":"onboarding","workflow":"shopify_post_auth","sessionId":"e5df5df1-8e2d-4e6f-bddd-0559bccc0372","workflow_requirements":{"authentication":true,"merchant":true,"scenario":false},"user_id":"usr_2230c443","resumed":true,"messageCount":0,"messages":[]}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:34] [INFO] [CLIENT] Conversation started {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:33.441Z","data":{"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"onboarding_user","scenario":"onboarding","workflow":"shopify_post_auth","sessionId":"e5df5df1-8e2d-4e6f-bddd-0559bccc0372","workflow_requirements":{"authentication":true,"merchant":true,"scenario":false},"user_id":"usr_2230c443","resumed":true,"messageCount":0,"messages":[]},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:34] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:35] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Updating workflow from conversation_started","timestamp":"2025-06-12T02:16:33.441Z","component":"client.websocket","data":{"workflow":"shopify_post_auth","source":"backend"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:35] [INFO] [CLIENT] Updating workflow from conversation_started {"component":"client.websocket","clientTimestamp":"2025-06-12T02:16:33.441Z","data":{"workflow":"shopify_post_auth","source":"backend"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:16:35] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:35] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:33.442Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:35] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:35] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:33.448Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:35] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:35] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:33.450Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_post_auth"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:35] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:35] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:33.452Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_post_auth"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:35] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:35] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Received message","timestamp":"2025-06-12T02:16:33.455Z","component":"client.websocket","data":{"type":"cj_message","data":{"type":"cj_message","data":{"content":"🔄 Connection successful! Analyzing your store...","factCheckStatus":"available","timestamp":"2025-06-11T21:16:33.390399"}}}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:35] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:35] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:33.455Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_post_auth"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:35] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:16:54] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Received message","timestamp":"2025-06-12T02:16:53.578Z","component":"client.websocket","data":{"type":"cj_message","data":{"type":"cj_message","data":{"content":"🎯 **Shopify Connected Successfully!**\n\nWelcome to the team! Your cratejoy-dev store is now live and I'm ready to handle support operations.\n\n**Quick Store Snapshot:**\n- ✅ 5 snowboard products cataloged ($600-$1,025 range)\n- 👥 3 customers ready to buy\n- 📦 Clean slate - no orders yet (perfect timing!)\n\n**What I'm Monitoring:**\n- Order flow (when those first sales start rolling in)\n- Customer inquiries about your premium snowboard collection\n- Product questions and sizing support\n- Any shipping or return requests\n\n**Ready to Rock:**\nSince you're in the launch phase, I'm set to `ad_hoc_support` mode - ready to handle whatever comes up as your business grows. No tickets in queue yet, but I'll be watching 24/7.\n\nYour customers can now get instant, professional support while you focus on growing the business. Let's make some sales happen! 🏂\n\n[View Store Details] [Test Support Flow] [Set Preferences]","factCheckStatus":"available","timestamp":"2025-06-11T21:16:53.523525"}}}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:54] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"2ms"}
[2025-06-11 21:16:54] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Messages updated","timestamp":"2025-06-12T02:16:53.605Z","component":"client.chat","data":{"count":2,"messages":[{"id":"cj-1749694593455","sender":"cj","preview":"🔄 Connection successful! Analyzing your store......","metadata":{"factCheckAvailable":true}},{"id":"cj-1749694613578","sender":"cj","preview":"🎯 **Shopify Connected Successfully!**\n\nWelcome to...","metadata":{"factCheckAvailable":true}}]}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:54] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 21:16:54] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-12T02:16:53.580Z","component":"client.websocket","data":{"enabled":true,"conversationId":"b2c4446e-392c-4ab2-bae3-5c168e05ba25","merchantId":"","scenario":"","workflow":"shopify_post_auth"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:16:54] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:17:49] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📤 Sending special message","timestamp":"2025-06-12T02:17:47.975Z","component":"client.websocket","data":{"message":{"type":"debug_request","data":{"type":"session"}}}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:17:49] [INFO] [CLIENT] 📤 Sending special message {"component":"client.websocket","clientTimestamp":"2025-06-12T02:17:47.975Z","data":{"message":{"type":"debug_request","data":{"type":"session"}}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:17:49] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 21:17:49] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Received message","timestamp":"2025-06-12T02:17:48.087Z","component":"client.websocket","data":{"type":"debug_response","data":{"type":"debug_response","data":{"session":{"id":"e5df5df1-8e2d-4e6f-bddd-0559bccc0372","merchant":"cratejoy-dev","workflow":"unknown","scenario":"post_auth","connected_at":null,"message_count":1,"context_window_size":0,"oauth_metadata":{"provider":"shopify","is_new_merchant":false,"shop_domain":"cratejoy-dev.myshopify.com","authenticated":true}}}}}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 21:17:49] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}

==> homepage/logs/homepage-backend1.log <==
[2025-06-11 18:51:24] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:24] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Connect function called","timestamp":"2025-06-11T23:51:22.351Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:24] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:24] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🚀 Connecting to WebSocket","timestamp":"2025-06-11T23:51:22.351Z","component":"client.websocket","data":{"connectionKey":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:24] [INFO] [CLIENT] 🚀 Connecting to WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:22.351Z","data":{"connectionKey":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:24] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:24] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🔌 Creating WebSocket","timestamp":"2025-06-11T23:51:22.351Z","component":"client.websocket","data":{"url":"wss://6883e827f02c.ngrok.app/ws/chat/bf7ca834-fbfe-48fb-8b92-c275f3b9875d","baseUrl":"wss://6883e827f02c.ngrok.app","conversationId":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:24] [INFO] [CLIENT] 🔌 Creating WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:22.351Z","data":{"url":"wss://6883e827f02c.ngrok.app/ws/chat/bf7ca834-fbfe-48fb-8b92-c275f3b9875d","baseUrl":"wss://6883e827f02c.ngrok.app","conversationId":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:24] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:24] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"WebSocket instance created","timestamp":"2025-06-11T23:51:22.351Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:24] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:24] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-11T23:51:22.487Z","component":"client.websocket","data":{"enabled":true,"conversationId":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:24] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:24] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Checking current connection state","timestamp":"2025-06-11T23:51:22.487Z","component":"client.websocket","data":{"currentState":"idle"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:24] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:25] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Setting state to connecting","timestamp":"2025-06-11T23:51:22.487Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:25] [INFO] [CLIENT] Setting state to connecting {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:22.487Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:25] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:25] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:25] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:25] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-11T23:51:27.041Z","component":"client.websocket","data":{"enabled":true,"conversationId":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Messages updated","timestamp":"2025-06-11T23:51:27.046Z","component":"client.chat","data":{"count":0,"messages":[]}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing WebSocket URL","timestamp":"2025-06-11T23:51:27.041Z","component":"client.websocket","data":{"protocol":"wss:","host":"amir.hirecj.ai","defaultUrl":"wss://amir.hirecj.ai","envOverride":"wss://6883e827f02c.ngrok.app"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"warn","message":"Using WebSocket URL override - cookies may not work cross-domain","timestamp":"2025-06-11T23:51:27.041Z","component":"client.websocket","data":{"override":"wss://6883e827f02c.ngrok.app"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [WARN] [CLIENT] Using WebSocket URL override - cookies may not work cross-domain {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:27.041Z","data":{"override":"wss://6883e827f02c.ngrok.app"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing connection key","timestamp":"2025-06-11T23:51:27.041Z","component":"client.websocket","data":{"enabled":true,"conversationId":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Connection key for ${workflow}","timestamp":"2025-06-11T23:51:27.041Z","component":"client.websocket","data":{"key":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [INFO] [CLIENT] Connection key for ${workflow} {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:27.041Z","data":{"key":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🔄 Connection lifecycle effect triggered","timestamp":"2025-06-11T23:51:27.047Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:28] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📞 Initiating connection for key:","timestamp":"2025-06-11T23:51:27.047Z","component":"client.websocket","data":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:28] [INFO] [CLIENT] 📞 Initiating connection for key: {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:27.047Z","data":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:28] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:29] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Connect function called","timestamp":"2025-06-11T23:51:27.047Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:29] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:29] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🚀 Connecting to WebSocket","timestamp":"2025-06-11T23:51:27.047Z","component":"client.websocket","data":{"connectionKey":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:29] [INFO] [CLIENT] 🚀 Connecting to WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:27.047Z","data":{"connectionKey":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:29] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:29] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🔌 Creating WebSocket","timestamp":"2025-06-11T23:51:27.047Z","component":"client.websocket","data":{"url":"wss://6883e827f02c.ngrok.app/ws/chat/bf7ca834-fbfe-48fb-8b92-c275f3b9875d","baseUrl":"wss://6883e827f02c.ngrok.app","conversationId":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:29] [INFO] [CLIENT] 🔌 Creating WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:27.047Z","data":{"url":"wss://6883e827f02c.ngrok.app/ws/chat/bf7ca834-fbfe-48fb-8b92-c275f3b9875d","baseUrl":"wss://6883e827f02c.ngrok.app","conversationId":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:29] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"2ms"}
[2025-06-11 18:51:29] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"WebSocket instance created","timestamp":"2025-06-11T23:51:27.047Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:29] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:29] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-11T23:51:27.181Z","component":"client.websocket","data":{"enabled":true,"conversationId":"bf7ca834-fbfe-48fb-8b92-c275f3b9875d","merchantId":"","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:29] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:29] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Checking current connection state","timestamp":"2025-06-11T23:51:27.181Z","component":"client.websocket","data":{"currentState":"idle"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:29] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-11 18:51:29] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Setting state to connecting","timestamp":"2025-06-11T23:51:27.181Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:29] [INFO] [CLIENT] Setting state to connecting {"component":"client.websocket","clientTimestamp":"2025-06-11T23:51:27.181Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:51:29] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-11 18:51:30] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:30] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:30] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:32] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:32] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:32] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:34] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:34] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:34] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:36] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:36] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:36] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:39] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:39] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:39] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:45] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:45] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:45] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:48] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:48] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:49] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:54] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:54] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:54] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:58] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:58] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:51:58] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:01] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:01] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:02] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:04] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:04] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:04] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:07] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:07] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:08] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:11] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:11] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:11] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:15] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:15] [INFO] [REQUEST_START] GET /chat {"component":"api","query":{"workflow":"shopify_onboarding"},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:15] [INFO] [REQUEST_START] GET /@react-refresh {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-11 18:52:19] [INFO] [REQUEST_START] GET / {"component":"api","query":{},"body":{},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}

==> homepage/logs/homepage-backend2.log <==
[2025-06-06 05:23:00] [INFO] [CLIENT] Already connecting/connected, skipping {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:31.380Z","data":{"state":"connecting"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Connection aborted - ignoring close","timestamp":"2025-06-06T10:21:33.384Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing connection key","timestamp":"2025-06-06T10:21:56.629Z","component":"client.websocket","data":{"enabled":false,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"ad_hoc_support"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Checking current connection state","timestamp":"2025-06-06T10:21:32.357Z","component":"client.websocket","data":{"currentState":"connecting"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing connection key","timestamp":"2025-06-06T10:21:31.380Z","component":"client.websocket","data":{"enabled":true,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-06T10:21:55.620Z","component":"client.websocket","data":{"enabled":true,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-06T10:21:33.385Z","component":"client.websocket","data":{"enabled":true,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Connection key null - missing required fields","timestamp":"2025-06-06T10:21:56.629Z","component":"client.websocket","data":{"enabled":false,"hasConversationId":true,"hasWorkflow":true}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Connection key for ${workflow}","timestamp":"2025-06-06T10:21:31.380Z","component":"client.websocket","data":{"key":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] Connection key for ${workflow} {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:31.380Z","data":{"key":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Already connecting/connected, skipping","timestamp":"2025-06-06T10:21:32.357Z","component":"client.websocket","data":{"state":"connecting"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] Already connecting/connected, skipping {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:32.357Z","data":{"state":"connecting"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing connection key","timestamp":"2025-06-06T10:21:55.620Z","component":"client.websocket","data":{"enabled":true,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🧹 Cleaning up WebSocket connection","timestamp":"2025-06-06T10:21:56.630Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Checking current connection state","timestamp":"2025-06-06T10:21:33.385Z","component":"client.websocket","data":{"currentState":"connecting"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🧹 Cleaning up WebSocket connection","timestamp":"2025-06-06T10:21:31.381Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Connection key for ${workflow}","timestamp":"2025-06-06T10:21:55.620Z","component":"client.websocket","data":{"key":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] Connection key for ${workflow} {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:55.620Z","data":{"key":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing connection key","timestamp":"2025-06-06T10:21:32.357Z","component":"client.websocket","data":{"enabled":true,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Already connecting/connected, skipping","timestamp":"2025-06-06T10:21:33.385Z","component":"client.websocket","data":{"state":"connecting"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] Already connecting/connected, skipping {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:33.385Z","data":{"state":"connecting"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🔌 Closing WebSocket","timestamp":"2025-06-06T10:21:56.630Z","component":"client.websocket","data":{"readyState":2}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] 🔌 Closing WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:56.630Z","data":{"readyState":2},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🔌 Closing WebSocket","timestamp":"2025-06-06T10:21:31.381Z","component":"client.websocket","data":{"readyState":2}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] 🔌 Closing WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:31.381Z","data":{"readyState":2},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🧹 Cleaning up WebSocket connection","timestamp":"2025-06-06T10:21:55.621Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Connection key for ${workflow}","timestamp":"2025-06-06T10:21:32.357Z","component":"client.websocket","data":{"key":"e776c104-8f63-4abb-bf6a-cc5eec159a35-shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] Connection key for ${workflow} {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:32.357Z","data":{"key":"e776c104-8f63-4abb-bf6a-cc5eec159a35-shopify_onboarding"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Computing connection key","timestamp":"2025-06-06T10:21:33.385Z","component":"client.websocket","data":{"enabled":true,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🔄 Connection lifecycle effect triggered","timestamp":"2025-06-06T10:21:56.631Z","component":"client.websocket","data":{"hasConnectionKey":false,"connectionKey":null}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🔄 Connection lifecycle effect triggered","timestamp":"2025-06-06T10:21:31.382Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🧹 Cleaning up WebSocket connection","timestamp":"2025-06-06T10:21:32.358Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🔌 Closing WebSocket","timestamp":"2025-06-06T10:21:55.622Z","component":"client.websocket","data":{"readyState":2}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] 🔌 Closing WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:55.622Z","data":{"readyState":2},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"Connection key for ${workflow}","timestamp":"2025-06-06T10:21:33.385Z","component":"client.websocket","data":{"key":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] Connection key for ${workflow} {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:33.385Z","data":{"key":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"warn","message":"⚠️ No connection key - skipping connection","timestamp":"2025-06-06T10:21:56.631Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [WARN] [CLIENT] ⚠️ No connection key - skipping connection {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:56.631Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:00] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📞 Initiating connection for key:","timestamp":"2025-06-06T10:21:31.382Z","component":"client.websocket","data":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:00] [INFO] [CLIENT] 📞 Initiating connection for key: {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:31.382Z","data":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:00] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🔌 Closing WebSocket","timestamp":"2025-06-06T10:21:32.358Z","component":"client.websocket","data":{"readyState":2}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [CLIENT] 🔌 Closing WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:32.358Z","data":{"readyState":2},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🔄 Connection lifecycle effect triggered","timestamp":"2025-06-06T10:21:55.622Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-06T10:21:56.632Z","component":"client.websocket","data":{"enabled":false,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"ad_hoc_support"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🧹 Cleaning up WebSocket connection","timestamp":"2025-06-06T10:21:33.387Z","component":"client.websocket"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Connect function called","timestamp":"2025-06-06T10:21:31.382Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📞 Initiating connection for key:","timestamp":"2025-06-06T10:21:55.623Z","component":"client.websocket","data":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [CLIENT] 📞 Initiating connection for key: {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:55.623Z","data":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🔄 Connection lifecycle effect triggered","timestamp":"2025-06-06T10:21:32.359Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"e776c104-8f63-4abb-bf6a-cc5eec159a35-shopify_onboarding"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🔌 Closing WebSocket","timestamp":"2025-06-06T10:21:33.387Z","component":"client.websocket","data":{"readyState":2}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [CLIENT] 🔌 Closing WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:33.387Z","data":{"readyState":2},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🎯 useWebSocketChat initialized","timestamp":"2025-06-06T10:21:56.633Z","component":"client.websocket","data":{"enabled":true,"conversationId":"e776c104-8f63-4abb-bf6a-cc5eec159a35","merchantId":"merchant_cratejoy-dev","scenario":"","workflow":"support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"🚀 Connecting to WebSocket","timestamp":"2025-06-06T10:21:31.382Z","component":"client.websocket","data":{"connectionKey":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [CLIENT] 🚀 Connecting to WebSocket {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:31.382Z","data":{"connectionKey":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"Connect function called","timestamp":"2025-06-06T10:21:55.623Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"info","message":"📞 Initiating connection for key:","timestamp":"2025-06-06T10:21:32.359Z","component":"client.websocket","data":"e776c104-8f63-4abb-bf6a-cc5eec159a35-shopify_onboarding"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [CLIENT] 📞 Initiating connection for key: {"component":"client.websocket","clientTimestamp":"2025-06-06T10:21:32.359Z","data":"e776c104-8f63-4abb-bf6a-cc5eec159a35-shopify_onboarding","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"0ms"}
[2025-06-06 05:23:01] [INFO] [REQUEST_START] POST /api/logs {"component":"api","query":{},"body":{"level":"debug","message":"🔄 Connection lifecycle effect triggered","timestamp":"2025-06-06T10:21:33.388Z","component":"client.websocket","data":{"hasConnectionKey":true,"connectionKey":"e776c104-8f63-4abb-bf6a-cc5eec159a35-support_daily"}},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}
[2025-06-06 05:23:01] [INFO] [REQUEST_END] POST /api/logs {"component":"api","status":200,"duration":"1ms"}

==> homepage/logs/homepage-backend.error.log <==
[2025-06-03 21:00:30] [ERROR] [CLIENT] Unhandled promise rejection {"component":"client","clientTimestamp":"2025-06-04T02:00:28.584Z","data":{"reason":{},"promise":{}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:22:07] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-04T22:22:05.936Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"ws://localhost:8000/ws/chat/87a72751-ce76-4ed2-9f17-5cb7cff3236f"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:23:24] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T22:23:22.829Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:24:32] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-04T22:22:20.916Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:26:47] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T22:26:46.251Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:29:58] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T22:29:56.270Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:50:41] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T22:50:40.025Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:52:25] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T22:52:23.954Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:52:42] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T22:52:40.903Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:54:02] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T22:54:00.348Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 17:54:31] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T22:54:29.598Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-04 18:10:03] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-04T23:10:01.855Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"127.0.0.1"}
[2025-06-05 08:09:00] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-05T13:08:58.524Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ac310905ac11.ngrok.app/ws/chat/1828dbc5-12a6-4891-91a1-2f226ce82b06"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 08:10:48] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-05T13:10:46.885Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ac310905ac11.ngrok.app/ws/chat/cd85b363-3734-43b9-bbff-63c400069767"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 08:10:54] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-05T13:10:53.116Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ac310905ac11.ngrok.app/ws/chat/cd85b363-3734-43b9-bbff-63c400069767"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 08:11:03] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-05T13:11:02.891Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 10:11:36] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-05T15:11:34.784Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://38d67f6afcdf.ngrok.app/ws/chat/0446ed17-f9ef-4016-8bb5-5a8d3818b90b"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 10:11:39] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-05T15:11:38.089Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://38d67f6afcdf.ngrok.app/ws/chat/0446ed17-f9ef-4016-8bb5-5a8d3818b90b"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 10:11:46] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-05T15:11:44.372Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://38d67f6afcdf.ngrok.app/ws/chat/0446ed17-f9ef-4016-8bb5-5a8d3818b90b"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 10:11:55] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-05T15:11:54.093Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 18:11:46] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-05T23:11:43.435Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://762b75680412.ngrok.app/ws/chat/ae50aad1-dc7b-40fd-87be-1983c4cb6b66"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 21:49:20] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-06T02:49:18.717Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 21:49:30] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-06T02:49:28.147Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 21:49:40] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-06T02:49:38.682Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:12:18] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-06T03:12:16.096Z","data":{"message":"Uncaught TypeError: Cannot read properties of null (reading 'getSnapshot')","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":11936,"colno":20,"stack":"TypeError: Cannot read properties of null (reading 'getSnapshot')\n    at updateSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11936:20)\n    at Object.useSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12781:22)\n    at useSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=9775b639:1120:29)\n    at useLocationProperty (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:148:79)\n    at usePathname (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:152:41)\n    at Object.useBrowserLocation [as hook] (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:157:42)\n    at useLocationFromRouter (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:206:41)\n    at useLocation (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:212:25)\n    at useOAuthCallback (https://amir.hirecj.ai/src/hooks/useOAuthCallback.ts:4:22)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179534745:214:3)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:12:18] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-06T03:12:16.098Z","data":{"message":"Uncaught TypeError: Cannot read properties of null (reading 'getSnapshot')","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":11936,"colno":20,"stack":"TypeError: Cannot read properties of null (reading 'getSnapshot')\n    at updateSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11936:20)\n    at Object.useSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12781:22)\n    at useSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=9775b639:1120:29)\n    at useLocationProperty (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:148:79)\n    at usePathname (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:152:41)\n    at Object.useBrowserLocation [as hook] (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:157:42)\n    at useLocationFromRouter (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:206:41)\n    at useLocation (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:212:25)\n    at useOAuthCallback (https://amir.hirecj.ai/src/hooks/useOAuthCallback.ts:4:22)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179534745:214:3)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:12:18] [ERROR] [CLIENT] Unhandled promise rejection {"component":"client","clientTimestamp":"2025-06-06T03:12:16.103Z","data":{"reason":{},"promise":{}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:14:35] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-06T03:14:33.091Z","data":{"message":"Uncaught ReferenceError: Cannot access 'handleWorkflowChange' before initialization","filename":"https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179672515","lineno":91,"colno":42,"stack":"ReferenceError: Cannot access 'handleWorkflowChange' before initialization\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179672515:91:42)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at mountIndeterminateComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14926:21)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15914:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)\n    at invokeGuardedCallback (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3733:39)\n    at beginWork$1 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19765:15)\n    at performUnitOfWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19198:20)\n    at workLoopSync (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19137:13)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:14:35] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-06T03:14:33.092Z","data":{"message":"Uncaught ReferenceError: Cannot access 'handleWorkflowChange' before initialization","filename":"https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179672515","lineno":91,"colno":42,"stack":"ReferenceError: Cannot access 'handleWorkflowChange' before initialization\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179672515:91:42)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at mountIndeterminateComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14926:21)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15914:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)\n    at invokeGuardedCallback (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3733:39)\n    at beginWork$1 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19765:15)\n    at performUnitOfWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19198:20)\n    at workLoopSync (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19137:13)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:14:35] [ERROR] [CLIENT] Unhandled promise rejection {"component":"client","clientTimestamp":"2025-06-06T03:14:33.104Z","data":{"reason":{},"promise":{}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:15:36] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-06T03:15:34.093Z","data":{"message":"Uncaught ReferenceError: Cannot access 'handleWorkflowChange' before initialization","filename":"https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179733228","lineno":91,"colno":42,"stack":"ReferenceError: Cannot access 'handleWorkflowChange' before initialization\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179733228:91:42)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at mountIndeterminateComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14926:21)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15914:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)\n    at invokeGuardedCallback (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3733:39)\n    at beginWork$1 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19765:15)\n    at performUnitOfWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19198:20)\n    at workLoopSync (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19137:13)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:15:36] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-06T03:15:34.095Z","data":{"message":"Uncaught ReferenceError: Cannot access 'handleWorkflowChange' before initialization","filename":"https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179733228","lineno":91,"colno":42,"stack":"ReferenceError: Cannot access 'handleWorkflowChange' before initialization\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749179733228:91:42)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at mountIndeterminateComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14926:21)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15914:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)\n    at invokeGuardedCallback (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3733:39)\n    at beginWork$1 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19765:15)\n    at performUnitOfWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19198:20)\n    at workLoopSync (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19137:13)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-05 22:15:36] [ERROR] [CLIENT] Unhandled promise rejection {"component":"client","clientTimestamp":"2025-06-06T03:15:34.096Z","data":{"reason":{},"promise":{}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 15:39:26] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-06T19:39:25.365Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 15:44:16] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-06T19:44:14.258Z","data":{"message":"Uncaught TypeError: Cannot read properties of null (reading 'getSnapshot')","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":11936,"colno":20,"stack":"TypeError: Cannot read properties of null (reading 'getSnapshot')\n    at updateSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11936:20)\n    at Object.useSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12781:22)\n    at useSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=9775b639:1120:29)\n    at useLocationProperty (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:148:79)\n    at usePathname (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:152:41)\n    at Object.useBrowserLocation [as hook] (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:157:42)\n    at useLocationFromRouter (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:206:41)\n    at useLocation (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:212:25)\n    at useOAuthCallback (https://amir.hirecj.ai/src/hooks/useOAuthCallback.ts:4:22)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749239052963:261:3)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 15:44:16] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-06T19:44:14.261Z","data":{"message":"Uncaught TypeError: Cannot read properties of null (reading 'getSnapshot')","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":11936,"colno":20,"stack":"TypeError: Cannot read properties of null (reading 'getSnapshot')\n    at updateSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11936:20)\n    at Object.useSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12781:22)\n    at useSyncExternalStore (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=9775b639:1120:29)\n    at useLocationProperty (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:148:79)\n    at usePathname (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:152:41)\n    at Object.useBrowserLocation [as hook] (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:157:42)\n    at useLocationFromRouter (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:206:41)\n    at useLocation (https://amir.hirecj.ai/node_modules/.vite/deps/wouter.js?v=9775b639:212:25)\n    at useOAuthCallback (https://amir.hirecj.ai/src/hooks/useOAuthCallback.ts:4:22)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749239052963:261:3)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 15:44:16] [ERROR] [CLIENT] Unhandled promise rejection {"component":"client","clientTimestamp":"2025-06-06T19:44:14.271Z","data":{"reason":{},"promise":{}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 16:32:11] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-06T20:32:09.928Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 17:09:22] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-06T21:09:20.224Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 17:09:55] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-06T21:09:53.222Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 17:13:22] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-06T21:13:20.218Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 17:14:44] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-06T21:14:42.915Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://38ee3d94af7b.ngrok.app/ws/chat/0cc9f3e2-f961-4987-8d11-93164043e2e9"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 18:31:08] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-06T22:31:07.033Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:10:18] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-07T00:10:16.483Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:14:11] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-07T00:14:09.963Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:14:16] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-07T00:14:13.640Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://38ee3d94af7b.ngrok.app/ws/chat/0ea9dda3-2b85-48bb-bc86-306cceae1ca7"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:14:42] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-07T00:14:40.637Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:15:00] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-07T00:14:59.039Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:15:15] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-07T00:15:14.017Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:25:05] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-07T00:25:03.699Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://38ee3d94af7b.ngrok.app/ws/chat/0ea9dda3-2b85-48bb-bc86-306cceae1ca7"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:25:12] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-07T00:25:11.370Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://38ee3d94af7b.ngrok.app/ws/chat/0ea9dda3-2b85-48bb-bc86-306cceae1ca7"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 20:25:23] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-07T00:25:21.488Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 21:07:11] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-07T01:07:10.506Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-06 21:13:09] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-07T01:13:08.702Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-10 12:26:29] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-10T16:26:27.137Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://3a7ba6f25453.ngrok.app/ws/chat/e9ee7e08-fe9a-4e2a-b0c5-2446a6885b8e"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-10 14:04:25] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-10T18:04:23.192Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ebd52f89dc67.ngrok.app/ws/chat/7b258bc6-3d5b-462d-ae71-261951b5c6da"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-10 14:10:04] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-10T18:10:01.956Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ebd52f89dc67.ngrok.app/ws/chat/b6835923-cddc-46f7-bb15-e4b3531c3513"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-10 14:13:51] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-10T18:13:48.056Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ebd52f89dc67.ngrok.app/ws/chat/1d16e8a3-9cfa-465d-93d6-ee0f73a62e7e"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-10 14:48:18] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-10T18:48:15.018Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ebd52f89dc67.ngrok.app/ws/chat/1d16e8a3-9cfa-465d-93d6-ee0f73a62e7e"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-10 18:14:26] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-10T22:14:23.679Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ebd52f89dc67.ngrok.app/ws/chat/89711bf9-f5aa-40ef-a149-02eb6cfb32a3"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-10 18:57:46] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-10T22:57:43.717Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://ebd52f89dc67.ngrok.app/ws/chat/98719d8b-097b-4c25-8804-b08ca996e514"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 13:24:17] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-11T17:24:16.325Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 15:44:32] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-11T19:44:31.212Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 15:48:18] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-11T19:48:17.286Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:25:38] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-11T21:25:36.472Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:25:43] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-11T21:25:40.382Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://f92d08fcd013.ngrok.app/ws/chat/95d9d433-09ea-4bb3-b07a-5932f9551f67"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:25:50] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-11T21:25:47.513Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://f92d08fcd013.ngrok.app/ws/chat/95d9d433-09ea-4bb3-b07a-5932f9551f67"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:26:00] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-11T21:25:58.177Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:27:46] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-11T21:27:44.641Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:27:57] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-11T21:27:55.921Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:53:08] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-11T21:53:07.709Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:53:20] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-11T21:53:19.052Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:53:31] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-11T21:53:30.135Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:57:40] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-11T21:57:37.499Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://4007293882bd.ngrok.app/ws/chat/ef596e8a-6747-4300-828c-94223e38781b"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 16:57:54] [ERROR] [CLIENT] Error fetching annotations {"component":"client.chat","clientTimestamp":"2025-06-11T21:57:52.411Z","data":{},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:17:51] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-11T23:17:48.509Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://184adbb511c7.ngrok.app/ws/chat/b4fc825c-8e70-4e5d-b7ce-5883148003e1"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:18:21] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-11T23:18:19.252Z","data":{"message":"Uncaught Error: Should have a queue. This is likely a bug in React. Please file an issue.","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":11730,"colno":19,"stack":"Error: Should have a queue. This is likely a bug in React. Please file an issue.\n    at updateReducer (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11730:19)\n    at updateState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12021:18)\n    at Object.useState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12753:24)\n    at useState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=9775b639:1066:29)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749683897795:47:49)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at updateFunctionComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14582:28)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15924:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:18:21] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-11T23:18:19.255Z","data":{"message":"Uncaught Error: Should have a queue. This is likely a bug in React. Please file an issue.","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":11730,"colno":19,"stack":"Error: Should have a queue. This is likely a bug in React. Please file an issue.\n    at updateReducer (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11730:19)\n    at updateState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12021:18)\n    at Object.useState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12753:24)\n    at useState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=9775b639:1066:29)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749683897795:47:49)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at updateFunctionComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14582:28)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15924:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:18:21] [ERROR] [CLIENT] Unhandled promise rejection {"component":"client","clientTimestamp":"2025-06-11T23:18:19.260Z","data":{"reason":{},"promise":{}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:28:12] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-11T23:28:10.255Z","data":{"message":"Uncaught Error: Should have a queue. This is likely a bug in React. Please file an issue.","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":11730,"colno":19,"stack":"Error: Should have a queue. This is likely a bug in React. Please file an issue.\n    at updateReducer (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11730:19)\n    at updateState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12021:18)\n    at Object.useState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12753:24)\n    at useState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=9775b639:1066:29)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749684489419:47:49)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at updateFunctionComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14582:28)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15924:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:28:12] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-11T23:28:10.257Z","data":{"message":"Uncaught Error: Should have a queue. This is likely a bug in React. Please file an issue.","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":11730,"colno":19,"stack":"Error: Should have a queue. This is likely a bug in React. Please file an issue.\n    at updateReducer (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11730:19)\n    at updateState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12021:18)\n    at Object.useState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:12753:24)\n    at useState (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=9775b639:1066:29)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749684489419:47:49)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at updateFunctionComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14582:28)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15924:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 18:28:12] [ERROR] [CLIENT] Unhandled promise rejection {"component":"client","clientTimestamp":"2025-06-11T23:28:10.260Z","data":{"reason":{},"promise":{}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 19:17:20] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-12T00:17:18.336Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 19:33:44] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-12T00:33:42.113Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://f58bd4552333.ngrok.app/ws/chat/1415e655-76c9-44da-a49a-1ec21e4fcb59"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 19:33:47] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-12T00:33:45.262Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://f58bd4552333.ngrok.app/ws/chat/1415e655-76c9-44da-a49a-1ec21e4fcb59"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 19:33:53] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-12T00:33:51.409Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://f58bd4552333.ngrok.app/ws/chat/1415e655-76c9-44da-a49a-1ec21e4fcb59"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 19:34:05] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-12T00:34:03.039Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://f58bd4552333.ngrok.app/ws/chat/1415e655-76c9-44da-a49a-1ec21e4fcb59"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 19:34:08] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-12T00:34:06.189Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://f58bd4552333.ngrok.app/ws/chat/1415e655-76c9-44da-a49a-1ec21e4fcb59"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 19:34:14] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-12T00:34:12.345Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://f58bd4552333.ngrok.app/ws/chat/1415e655-76c9-44da-a49a-1ec21e4fcb59"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 19:34:23] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-12T00:34:22.195Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 20:12:29] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-12T01:12:27.527Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://amir.hirecj.ai/ws/chat/1fb26ccb-3ba3-47ba-9d2e-00c9170ba23c"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 20:12:35] [ERROR] [CLIENT] ❌ WebSocket error {"component":"client.websocket","clientTimestamp":"2025-06-12T01:12:33.863Z","data":{"error":{"isTrusted":true},"readyState":3,"url":"wss://amir.hirecj.ai/ws/chat/1fb26ccb-3ba3-47ba-9d2e-00c9170ba23c"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 20:12:44] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-12T01:12:43.532Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 20:40:44] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-12T01:40:42.340Z","data":{"message":"Uncaught ReferenceError: sendWorkflowTransition is not defined","filename":"https://amir.hirecj.ai/src/hooks/useWebSocketChat.ts?t=1749692440731","lineno":566,"colno":5,"stack":"ReferenceError: sendWorkflowTransition is not defined\n    at useWebSocketChat (https://amir.hirecj.ai/src/hooks/useWebSocketChat.ts?t=1749692440731:566:5)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749692440731:169:18)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at updateFunctionComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14582:28)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15924:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)\n    at invokeGuardedCallback (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3733:39)\n    at beginWork$1 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19765:15)\n    at performUnitOfWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19198:20)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 20:40:44] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-12T01:40:42.345Z","data":{"message":"Uncaught ReferenceError: sendWorkflowTransition is not defined","filename":"https://amir.hirecj.ai/src/hooks/useWebSocketChat.ts?t=1749692440731","lineno":566,"colno":5,"stack":"ReferenceError: sendWorkflowTransition is not defined\n    at useWebSocketChat (https://amir.hirecj.ai/src/hooks/useWebSocketChat.ts?t=1749692440731:566:5)\n    at SlackChat (https://amir.hirecj.ai/src/pages/SlackChat.tsx?t=1749692440731:169:18)\n    at renderWithHooks (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:11548:26)\n    at updateFunctionComponent (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:14582:28)\n    at beginWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:15924:22)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)\n    at invokeGuardedCallback (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3733:39)\n    at beginWork$1 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19765:15)\n    at performUnitOfWork (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:19198:20)"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 20:40:44] [ERROR] [CLIENT] Unhandled promise rejection {"component":"client","clientTimestamp":"2025-06-12T01:40:42.347Z","data":{"reason":{},"promise":{}},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 20:51:55] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-12T01:51:54.645Z","data":{"message":"Uncaught ReferenceError: handleWorkflowChange is not defined","filename":"https://amir.hirecj.ai/src/pages/SlackChat.tsx","lineno":446,"colno":17,"stack":"ReferenceError: handleWorkflowChange is not defined\n    at onChange (https://amir.hirecj.ai/src/pages/SlackChat.tsx:446:17)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)\n    at invokeGuardedCallback (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3733:39)\n    at invokeGuardedCallbackAndCatchFirstError (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3736:33)\n    at executeDispatch (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7014:11)\n    at processDispatchQueueItemsInOrder (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7034:15)\n    at processDispatchQueue (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7043:13)\n    at dispatchEventsForPlugins (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7051:11)\n    at https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7174:20"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 20:51:55] [ERROR] [CLIENT] Unhandled error {"component":"client","clientTimestamp":"2025-06-12T01:51:54.645Z","data":{"message":"Uncaught ReferenceError: handleWorkflowChange is not defined","filename":"https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639","lineno":3750,"colno":13,"stack":"ReferenceError: handleWorkflowChange is not defined\n    at onChange (https://amir.hirecj.ai/src/pages/SlackChat.tsx:446:17)\n    at HTMLUnknownElement.callCallback2 (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3674:22)\n    at Object.invokeGuardedCallbackDev (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3699:24)\n    at invokeGuardedCallback (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3733:39)\n    at invokeGuardedCallbackAndCatchFirstError (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:3736:33)\n    at executeDispatch (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7014:11)\n    at processDispatchQueueItemsInOrder (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7034:15)\n    at processDispatchQueue (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7043:13)\n    at dispatchEventsForPlugins (https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7051:11)\n    at https://amir.hirecj.ai/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=9775b639:7174:20"},"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:10:44] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-12T02:10:43.863Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
[2025-06-11 21:13:37] [ERROR] [CLIENT] Connection timeout {"component":"client.websocket","clientTimestamp":"2025-06-12T02:13:35.231Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","ip":"::1"}
